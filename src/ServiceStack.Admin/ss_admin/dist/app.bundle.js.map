{"version":3,"sources":["webpack:///app.bundle.js","webpack:///./src/Content.tsx","webpack:///./src/Header.tsx","webpack:///./src/Results.tsx","webpack:///./src/Sidebar.tsx","webpack:///./src/shared.tsx","webpack:///./src/app.tsx","webpack:///./src/AutoQuery.tsx","webpack:///./src/ColumnPrefsDialog.tsx"],"names":["webpackJsonp","100","module","exports","__webpack_require__","__extends","this","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","value","React","Results_1","servicestack_client_1","shared_1","Content","_super","props","context","_this","call","state","results","selectField","e","searchField","target","options","selectedIndex","searchType","values","searchText","f","getSearchField","isIntField","isNaN","convention","conventions","filter","c","name","matchesConvention","type","onChange","selectOperand","changeText","selectFormat","format","clear","orderBy","offset","fields","conditions","getAutoQueryUrl","firstRoute","selected","requestType","routes","x","path","indexOf","url","combinePaths","config","servicebaseurl","getArgs","forEach","arg","createUrl","skip","length","join","jsconfig","include","replace","isValidCondition","_a","toLowerCase","isDirty","args","slice","push","condition","field","fromTypeFields","startsWith","fieldType","types","split","getConventions","f_1","renderResults","response","fieldNames","fieldWidths","fieldDefs","viewerArgs","trim","parts","splitOnFirst","total","maxLimit","maxlimit","Control","enable","createElement","className","style","cursor","onClick","color","Paging","padding","Math","max","floor","title","onShowDialog","verticalAlign","margin","fontSize","default","onOrderByChange","renderBody","op","loadingNewQuery","newUrl","client","get","then","r","normalize","setState","error","catch","status","responseStatus","errorCode","message","queries","zIndex","position","top","right","maxWidth","id","whiteSpace","href","map","key","autoComplete","onKeyDown","keyCode","onAddCondition","formats","onRemoveCondition","display","onSaveQuery","onRemoveQuery","onLoadQuery","render","isMsEdge","test","navigator","userAgent","width","height","overflow","minWidth","userinfo","querycount","isauthenticated","Component","101","Header","apply","arguments","flexDirection","onSidebarToggle","flex","102","Results","renderValue","o","isArray","JSON","stringify","formatString","s","substring","toTypeFields","orderByName","substr","humanize","i","j","getField","parseInt","103","react_router_dom_1","Sidebar","undefined","handleFilter","renderIcon","iconUrl","src","hide","placeholder","keys","operations","Link","to","BasePath","104","105","106","22","global","location","pathname","JsonServiceClient","BaseUrl","normalizeKey","toString","dto","deep","k","parseResponseStatus","json","defaultMsg","err","parse","sanitize","ResponseStatus","__error","230","95","react_dom_1","react_router_1","AutoQuery_1","AppPath","AdminApp","match","params","AutoQueryPath","BrowserRouter","Route","exact","Redirect","from","component","document","getElementById","98","Header_1","Sidebar_1","Content_1","ColumnPrefsDialog_1","AutoQuery","metadata","getName","App","operationNames","request","aqViewer","getAutoQueryViewer","t","operationState","localStorage","getItem","sidebarHidden","resolveProperties","properties","inherits","toggleSidebar","getType","attributes","attr","getAutoQueryViewerArgValue","argName","getTitle","getOperationValues","assign","getSelected","operation","fromType","toType","onOperationChange","opName","newValues","setOperationValues","addCondition","some","removeCondition","setItem","showDialog","dialog","setTimeout","classList","toggle","hideDialog","saveQuery","prompt","removeQuery","query","loadQuery","implicitconventions","onClose","99","ColumnPrefsDialog","resetFields","CheckboxStyle","stopPropagation","borderBottom","textAlign"],"mappings":"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","file":"app.bundle.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 100:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(5);\r\nvar Results_1 = __webpack_require__(102);\r\nvar servicestack_client_1 = __webpack_require__(21);\r\nvar shared_1 = __webpack_require__(22);\r\nvar Content = (function (_super) {\r\n    __extends(Content, _super);\r\n    function Content(props, context) {\r\n        var _this = _super.call(this, props, context) || this;\r\n        _this.state = { results: null };\r\n        return _this;\r\n    }\r\n    Content.prototype.selectField = function (e) {\r\n        var searchField = e.target.options[e.target.selectedIndex].value, searchType = this.props.values.searchType, searchText = this.props.values.searchText;\r\n        var f = this.getSearchField(searchField);\r\n        if (this.isIntField(f)) {\r\n            if (isNaN(searchText))\r\n                searchText = '';\r\n            var convention = this.props.conventions.filter(function (c) { return c.name === searchType; })[0];\r\n            if (!this.matchesConvention(convention, f.type))\r\n                searchType = '';\r\n        }\r\n        this.props.onChange({ searchField: searchField, searchType: searchType, searchText: searchText });\r\n    };\r\n    Content.prototype.selectOperand = function (e) {\r\n        this.props.onChange({ searchType: e.target.options[e.target.selectedIndex].value });\r\n    };\r\n    Content.prototype.changeText = function (e) {\r\n        this.props.onChange({ searchText: e.target.value });\r\n    };\r\n    Content.prototype.selectFormat = function (format) {\r\n        if (format === this.props.values.format)\r\n            format = \"\";\r\n        this.props.onChange({ format: format });\r\n    };\r\n    Content.prototype.clear = function () {\r\n        this.props.onChange({\r\n            searchField: null, searchType: null, searchText: '', format: '', orderBy: '', offset: 0,\r\n            fields: [], conditions: []\r\n        });\r\n    };\r\n    Content.prototype.getAutoQueryUrl = function (format) {\r\n        var firstRoute = (this.props.selected.requestType.routes || []).filter(function (x) { return x.path.indexOf('{') === -1; })[0];\r\n        var path = firstRoute\r\n            ? firstRoute.path\r\n            : \"/\" + (format || 'html') + \"/reply/\" + this.props.selected.requestType.name;\r\n        var url = servicestack_client_1.combinePaths(this.props.config.servicebaseurl, path);\r\n        if (firstRoute && format)\r\n            url += \".\" + format;\r\n        this.getArgs().forEach(function (arg) {\r\n            return url = servicestack_client_1.createUrl(url, arg);\r\n        });\r\n        if (this.props.values.offset)\r\n            url = servicestack_client_1.createUrl(url, { skip: this.props.values.offset });\r\n        if (this.props.values.orderBy)\r\n            url = servicestack_client_1.createUrl(url, { orderBy: this.props.values.orderBy });\r\n        if ((this.props.values.fields || []).length > 0) {\r\n            url = servicestack_client_1.createUrl(url, { fields: this.props.values.fields.join(',') });\r\n            if (!format || format === 'html')\r\n                url = servicestack_client_1.createUrl(url, { jsconfig: 'edv' });\r\n        }\r\n        url = servicestack_client_1.createUrl(url, { include: \"Total\" });\r\n        url = url.replace(/%2C/g, \",\");\r\n        return url;\r\n    };\r\n    Content.prototype.isValidCondition = function () {\r\n        var _a = this.props.values, searchField = _a.searchField, searchType = _a.searchType, searchText = _a.searchText;\r\n        return searchField && searchType && searchText\r\n            && (searchType.toLowerCase() !== 'between' || (searchText.indexOf(',') > 0 && searchText.indexOf(',') < searchText.length - 1));\r\n    };\r\n    Content.prototype.isDirty = function () {\r\n        return this.isValidCondition()\r\n            || this.props.values.format\r\n            || this.props.values.offset\r\n            || (this.props.values.fields || []).length > 0\r\n            || this.props.values.orderBy\r\n            || (this.props.values.conditions || []).length > 0;\r\n    };\r\n    Content.prototype.getArgs = function () {\r\n        var _this = this;\r\n        var args = [];\r\n        var conditions = (this.props.values.conditions || []).slice(0);\r\n        if (this.isValidCondition()) {\r\n            conditions.push(this.props.values);\r\n        }\r\n        conditions.forEach(function (condition) {\r\n            var searchField = condition.searchField, searchType = condition.searchType, searchText = condition.searchText;\r\n            var convention = _this.props.conventions.filter(function (c) { return c.name === searchType; })[0];\r\n            if (convention) {\r\n                var field = convention.value.replace(\"%\", searchField);\r\n                args.push((_a = {}, _a[field] = searchText, _a));\r\n            }\r\n            var _a;\r\n        });\r\n        return args;\r\n    };\r\n    Content.prototype.getSearchField = function (name) {\r\n        return this.props.selected.fromTypeFields.filter(function (f) { return f.name === name; })[0];\r\n    };\r\n    Content.prototype.isIntField = function (f) {\r\n        return f && (f.type || '').toLowerCase().startsWith('int');\r\n    };\r\n    Content.prototype.matchesConvention = function (convention, fieldType) {\r\n        return !convention || !convention.types || !fieldType ||\r\n            convention.types.replace(/ /g, '').toLowerCase().split(',').indexOf(fieldType.toLowerCase()) >= 0;\r\n    };\r\n    Content.prototype.getConventions = function () {\r\n        var _this = this;\r\n        var values = this.props.values;\r\n        if (values && values.searchField) {\r\n            var f_1 = this.getSearchField(values.searchField);\r\n            if (f_1) {\r\n                return this.props.conventions.filter(function (c) { return _this.matchesConvention(c, f_1.type); });\r\n            }\r\n        }\r\n        return this.props.conventions;\r\n    };\r\n    Content.prototype.renderResults = function (response) {\r\n        var _this = this;\r\n        var fieldNames = null, fieldWidths = null;\r\n        var fieldDefs = (this.props.viewerArgs[\"DefaultFields\"] || \"\")\r\n            .split(',')\r\n            .filter(function (x) { return x.trim().length > 0; });\r\n        if (fieldDefs.length > 0) {\r\n            fieldNames = [], fieldWidths = {};\r\n            fieldDefs.forEach(function (x) {\r\n                var parts = servicestack_client_1.splitOnFirst(x, ':');\r\n                fieldNames.push(parts[0]);\r\n                if (parts.length > 1)\r\n                    fieldWidths[parts[0]] = parts[1];\r\n            });\r\n        }\r\n        var offset = response.offset, results = response.results, total = response.total, maxLimit = this.props.config.maxlimit;\r\n        var Control = function (name, enable, offset) { return enable\r\n            ? React.createElement(\"i\", { className: \"material-icons\", style: { cursor: 'pointer' }, onClick: function (e) { return _this.props.onChange({ offset: offset }); } }, name)\r\n            : React.createElement(\"i\", { className: \"material-icons\", style: { color: '#ccc' } }, name); };\r\n        var Paging = (React.createElement(\"span\", { className: \"paging\", style: { padding: '0 10px 0 0' } },\r\n            Control(\"skip_previous\", offset > 0, 0),\r\n            Control(\"chevron_left\", offset > 0, Math.max(offset - maxLimit, 0)),\r\n            Control(\"chevron_right\", offset + maxLimit < total, offset + maxLimit),\r\n            Control(\"skip_next\", offset + maxLimit < total, Math.floor((total - 1) / maxLimit) * maxLimit)));\r\n        return response.results.length === 0\r\n            ? React.createElement(\"div\", { className: \"results-none\" }, \"There were no results\")\r\n            : (React.createElement(\"div\", null,\r\n                React.createElement(\"div\", { className: \"noselect\", style: { color: '#757575', padding: '15px 0' } },\r\n                    Paging,\r\n                    React.createElement(\"span\", null,\r\n                        \"Showing Results \",\r\n                        offset + 1,\r\n                        \" - \",\r\n                        offset + results.length,\r\n                        \" of \",\r\n                        total),\r\n                    React.createElement(\"i\", { className: \"material-icons\", title: \"show/hide columns\", onClick: function (e) { return _this.props.onShowDialog('column-prefs-dialog'); }, style: {\r\n                            verticalAlign: 'text-bottom', margin: '0 0 0 10px', cursor: 'pointer', fontSize: '20px'\r\n                        } }, \"view_list\")),\r\n                React.createElement(Results_1.default, { results: response.results, fieldNames: fieldNames, fieldWidths: fieldWidths, selected: this.props.selected, values: this.props.values, onOrderByChange: function (orderBy) { return _this.props.onChange({ orderBy: orderBy }); } })));\r\n    };\r\n    Content.prototype.renderBody = function (op, values) {\r\n        var _this = this;\r\n        var url = this.getAutoQueryUrl(this.props.values.format);\r\n        var name = this.props.selected.name;\r\n        var loadingNewQuery = this.state.url !== url;\r\n        if (loadingNewQuery) {\r\n            var newUrl = this.getAutoQueryUrl(\"json\");\r\n            newUrl = servicestack_client_1.createUrl(newUrl, { jsconfig: 'DateHandler:ISO8601DateOnly,TimeSpanHandler:StandardFormat' });\r\n            shared_1.client.get(newUrl)\r\n                .then(function (r) {\r\n                var response = shared_1.normalize(r);\r\n                response.url = url;\r\n                _this.setState({ url: url, name: name, response: response, error: null });\r\n            })\r\n                .catch(function (r) {\r\n                var status = r.responseStatus;\r\n                _this.setState({ url: url, name: name, response: null, error: status.errorCode + \": \" + status.message });\r\n            });\r\n        }\r\n        var queries = (this.props.values.queries || []);\r\n        return (React.createElement(\"div\", null,\r\n            React.createElement(\"div\", { style: { zIndex: 2, color: '#757575', position: 'absolute', top: '25px', right: '25px', maxWidth: '700px' } }, this.props.viewerArgs[\"Description\"]),\r\n            React.createElement(\"div\", { id: \"url\", style: { padding: '0 0 10px 0', whiteSpace: 'nowrap' } },\r\n                React.createElement(\"a\", { href: url, target: \"_blank\" }, url),\r\n                !this.isDirty() ? null : (React.createElement(\"i\", { className: \"material-icons noselect\", title: \"reset query\", onClick: function (e) { return _this.clear(); }, style: {\r\n                        padding: '0 0 0 5px', color: '#757575', fontSize: '16px', verticalAlign: 'bottom', cursor: 'pointer'\r\n                    } }, \"clear\"))),\r\n            React.createElement(\"select\", { value: values.searchField, onChange: function (e) { return _this.selectField(e); } },\r\n                React.createElement(\"option\", null),\r\n                op.fromTypeFields.map(function (f) { return React.createElement(\"option\", { key: f.name }, f.name); })),\r\n            React.createElement(\"select\", { value: values.searchType, onChange: function (e) { return _this.selectOperand(e); } },\r\n                React.createElement(\"option\", null),\r\n                this.getConventions().map(function (c) { return React.createElement(\"option\", { key: c.name }, c.name); })),\r\n            React.createElement(\"input\", { type: \"text\", id: \"txtSearch\", value: values.searchText, autoComplete: \"off\", onChange: function (e) { return _this.changeText(e); }, onKeyDown: function (e) { return e.keyCode === 13 ? _this.props.onAddCondition() : null; } }),\r\n            this.isValidCondition()\r\n                ? (React.createElement(\"i\", { className: \"material-icons\", style: { fontSize: '30px', verticalAlign: 'bottom', color: '#00C853', cursor: 'pointer' }, onClick: function (e) { return _this.props.onAddCondition(); }, title: \"Add condition\" }, \"add_circle\"))\r\n                : (React.createElement(\"i\", { className: \"material-icons\", style: { fontSize: '30px', verticalAlign: 'bottom', color: '#ccc' }, title: \"Incomplete condition\" }, \"add_circle\")),\r\n            !this.props.config.formats || this.props.config.formats.length === 0 ? null : (React.createElement(\"span\", { className: \"formats noselect\" }, this.props.config.formats.map(function (f) {\r\n                return React.createElement(\"span\", { key: f, className: values.format === f ? 'active' : '', onClick: function (e) { return _this.selectFormat(f); } }, f);\r\n            }))),\r\n            this.props.values.conditions.length + queries.length > 0 ?\r\n                (React.createElement(\"div\", null,\r\n                    React.createElement(\"div\", { className: \"conditions\" }, this.props.values.conditions.map(function (c) { return (React.createElement(\"div\", { key: c.id },\r\n                        React.createElement(\"i\", { className: \"material-icons\", style: { color: '#db4437', cursor: 'pointer', padding: '0 5px 0 0' }, title: \"remove condition\", onClick: function (e) { return _this.props.onRemoveCondition(c); } }, \"remove_circle\"),\r\n                        c.searchField,\r\n                        \" \",\r\n                        c.searchType,\r\n                        \" \",\r\n                        c.searchText)); })),\r\n                    this.props.values.conditions.length > 0\r\n                        ? (React.createElement(\"div\", { style: { display: 'inline-block', verticalAlign: 'top', padding: 10 } },\r\n                            React.createElement(\"i\", { title: \"Save Query\", className: \"material-icons\", style: { fontSize: '24px', color: '#444', cursor: 'pointer' }, onClick: function (e) { return _this.props.onSaveQuery(); } }, \"save\")))\r\n                        : null,\r\n                    React.createElement(\"div\", { className: \"queries\" }, queries.map(function (x) { return (React.createElement(\"div\", null,\r\n                        React.createElement(\"i\", { className: \"material-icons\", style: { color: '#db4437', cursor: 'pointer', padding: '0 5px 0 0' }, title: \"remove query\", onClick: function (e) { return _this.props.onRemoveQuery(x); } }, \"remove_circle\"),\r\n                        React.createElement(\"span\", { className: \"lnk\", title: \"load query\", onClick: function (e) { return _this.props.onLoadQuery(x); } }, x.name))); }))))\r\n                : null,\r\n            this.state.response\r\n                ? (!loadingNewQuery || name === this.state.name\r\n                    ? this.renderResults(this.state.response)\r\n                    : (React.createElement(\"div\", { style: { color: '#757575', padding: '20px 0 0 0' } },\r\n                        React.createElement(\"i\", { className: \"material-icons spin\", style: { fontSize: '20px', verticalAlign: 'text-bottom' } }, \"cached\"),\r\n                        React.createElement(\"span\", { style: { padding: '0 0 0 5px' } }, \"loading results...\"))))\r\n                : this.state.error\r\n                    ? React.createElement(\"div\", { style: { color: '#db4437', padding: 5 } }, this.state.error)\r\n                    : null));\r\n    };\r\n    Content.prototype.render = function () {\r\n        var isMsEdge = /Edge/.test(navigator.userAgent);\r\n        return (React.createElement(\"div\", { id: \"content\", style: { width: '100%', height: '100%', overflow: 'auto' } },\r\n            React.createElement(\"div\", { style: { padding: '90px 0 20px 20px' } },\r\n                React.createElement(\"table\", null,\r\n                    React.createElement(\"tbody\", null,\r\n                        React.createElement(\"tr\", null,\r\n                            isMsEdge ? React.createElement(\"td\", { style: { minWidth: '290px' } }) : null,\r\n                            React.createElement(\"td\", null, this.props.selected\r\n                                ? this.renderBody(this.props.selected, this.props.values)\r\n                                : (React.createElement(\"div\", { style: { padding: '15px 0', fontSize: '20px', color: '#757575' } },\r\n                                    React.createElement(\"i\", { className: \"material-icons\", style: { verticalAlign: 'bottom', margin: '0 10px 0 0' } }, \"arrow_back\"),\r\n                                    this.props.userinfo.querycount > 0\r\n                                        ? \"Please Select a Query\"\r\n                                        : this.props.userinfo.isauthenticated\r\n                                            ? \"There are no queries available\"\r\n                                            : \"Please Sign In to see your available queries\"))),\r\n                            !isMsEdge ? React.createElement(\"td\", { style: { minWidth: '290px' } }) : null))))));\r\n    };\r\n    return Content;\r\n}(React.Component));\r\nexports.default = Content;\r\n\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(5);\r\nvar Header = (function (_super) {\r\n    __extends(Header, _super);\r\n    function Header() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Header.prototype.render = function () {\r\n        var _this = this;\r\n        return (React.createElement(\"div\", { id: \"header\", style: { margin: 'auto', display: 'flex', flexDirection: 'row' } },\r\n            React.createElement(\"i\", { className: \"material-icons\", style: { cursor: 'pointer' }, onClick: function (e) { return _this.props.onSidebarToggle(); } }, \"menu\"),\r\n            React.createElement(\"h1\", null, \"AutoQuery\"),\r\n            this.props.title == null ? React.createElement(\"div\", { style: { flex: 1 } }) : (React.createElement(\"div\", { id: \"header-content\", style: { display: 'flex', flex: 1 } },\r\n                React.createElement(\"div\", null,\r\n                    React.createElement(\"div\", { className: \"seperator\" })),\r\n                React.createElement(\"h2\", null, this.props.title),\r\n                React.createElement(\"div\", { style: { margin: 'auto', flex: 1 } })))));\r\n    };\r\n    return Header;\r\n}(React.Component));\r\nexports.default = Header;\r\n\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(5);\r\nvar shared_1 = __webpack_require__(22);\r\nvar servicestack_client_1 = __webpack_require__(21);\r\nvar Results = (function (_super) {\r\n    __extends(Results, _super);\r\n    function Results() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Results.prototype.renderValue = function (o) {\r\n        return Array.isArray(o)\r\n            ? o.join(', ')\r\n            : typeof o == \"undefined\"\r\n                ? \"\"\r\n                : typeof o == \"object\"\r\n                    ? JSON.stringify(o)\r\n                    : o + \"\";\r\n    };\r\n    Results.prototype.formatString = function (s) {\r\n        if (s) {\r\n            if (s.startsWith(\"http\"))\r\n                return React.createElement(\"a\", { href: s, target: \"_blank\" }, s.substring(s.indexOf('://') + 3));\r\n            if (s.toLowerCase() === \"false\")\r\n                return React.createElement(\"i\", { className: \"material-icons\", style: { color: '#757575', fontSize: '14px' } }, \"check_box_outline_blank\");\r\n            if (s.toLowerCase() === \"true\")\r\n                return React.createElement(\"i\", { className: \"material-icons\", style: { color: '#66BB6A', fontSize: '14px' } }, \"check_box\");\r\n        }\r\n        return React.createElement(\"span\", null, s);\r\n    };\r\n    Results.prototype.render = function () {\r\n        var _this = this;\r\n        var Results = React.createElement(\"div\", { className: \"results-none\" }, \"There were no results\");\r\n        var results = this.props.results;\r\n        if (results && results.length > 0) {\r\n            var fieldNames = this.props.values.fields || [];\r\n            if (fieldNames.length === 0) {\r\n                fieldNames = this.props.fieldNames ||\r\n                    this.props.selected.toTypeFields.map(function (x) { return x.name; });\r\n            }\r\n            var fieldWidths = this.props.fieldWidths || {};\r\n            var orderBy = (this.props.values.orderBy || '');\r\n            var orderByName = orderBy.startsWith('-') ? orderBy.substr(1) : orderBy;\r\n            Results = (React.createElement(\"table\", { className: \"results\" },\r\n                React.createElement(\"thead\", null,\r\n                    React.createElement(\"tr\", { className: \"noselect\" }, fieldNames.map(function (f) { return (React.createElement(\"th\", { key: f, style: { cursor: 'pointer' }, onClick: function (e) { return _this.props.onOrderByChange(f !== orderByName ? '-' + f : !orderBy.startsWith('-') ? '' : orderByName); } },\r\n                        servicestack_client_1.humanize(f),\r\n                        f !== orderByName ? null :\r\n                            React.createElement(\"i\", { className: \"material-icons\", style: { fontSize: '18px', verticalAlign: 'bottom' } }, orderBy.startsWith('-') ? \"arrow_drop_down\" : \"arrow_drop_up\"))); }))),\r\n                React.createElement(\"tbody\", null, results.map(function (r, i) { return (React.createElement(\"tr\", { key: i }, fieldNames.map(function (f, j) { return (React.createElement(\"td\", { key: j, title: _this.renderValue(shared_1.getField(r, f)), style: shared_1.getField(fieldWidths, f) ? { maxWidth: parseInt(shared_1.getField(fieldWidths, f)) } : {} }, _this.formatString(_this.renderValue(shared_1.getField(r, f))))); }))); }))));\r\n        }\r\n        return Results;\r\n    };\r\n    return Results;\r\n}(React.Component));\r\nexports.default = Results;\r\n\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(5);\r\nvar react_router_dom_1 = __webpack_require__(36);\r\nvar servicestack_client_1 = __webpack_require__(21);\r\nvar shared_1 = __webpack_require__(22);\r\nvar Sidebar = (function (_super) {\r\n    __extends(Sidebar, _super);\r\n    function Sidebar(props, context) {\r\n        var _this = _super.call(this, props, context) || this;\r\n        _this.state = { filter: undefined };\r\n        return _this;\r\n    }\r\n    Sidebar.prototype.handleFilter = function (e) {\r\n        this.setState({ filter: e.target.value.toLowerCase() });\r\n    };\r\n    Sidebar.prototype.renderIcon = function (name) {\r\n        var iconUrl = this.props.viewerArgs[name][\"IconUrl\"];\r\n        if (iconUrl) {\r\n            if (iconUrl.startsWith('material-icons:'))\r\n                return (React.createElement(\"i\", { className: \"material-icons\" }, servicestack_client_1.splitOnFirst(iconUrl, ':')[1]));\r\n            if (iconUrl.startsWith('octicon:'))\r\n                return (React.createElement(\"span\", { className: \"mega-octicon octicon-\" + servicestack_client_1.splitOnFirst(iconUrl, ':')[1] }));\r\n            return (React.createElement(\"img\", { src: iconUrl }));\r\n        }\r\n        return (React.createElement(\"i\", { className: \"material-icons\" }, \"search\"));\r\n    };\r\n    Sidebar.prototype.render = function () {\r\n        var _this = this;\r\n        return (React.createElement(\"div\", { id: \"sidebar\", className: this.props.hide ? ' hide' : '' },\r\n            React.createElement(\"div\", { style: { padding: '90px 0 0 0' } },\r\n                React.createElement(\"div\", { id: \"aq-filter\" },\r\n                    React.createElement(\"input\", { type: \"text\", placeholder: \"filter\", style: { margin: \"10px 15px\" }, onChange: function (e) { return _this.handleFilter(e); }, value: this.state.filter })),\r\n                React.createElement(\"div\", { id: \"aq-list\" }, Object.keys(this.props.operations)\r\n                    .filter(function (op) { return _this.state.filter == null || op.toLowerCase().indexOf(_this.state.filter) >= 0; })\r\n                    .map(function (op, i) { return (React.createElement(\"div\", { key: i, className: \"aq-item\" + (op === _this.props.name ? \" active\" : \"\") },\r\n                    _this.renderIcon(op),\r\n                    React.createElement(react_router_dom_1.Link, { to: shared_1.BasePath + \"ss_admin/autoquery/\" + op }, op))); })))));\r\n    };\r\n    return Sidebar;\r\n}(React.Component));\r\nexports.default = Sidebar;\r\n\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 22:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar servicestack_client_1 = __webpack_require__(21);\r\nexports.BasePath = location.pathname.substring(0, location.pathname.indexOf(\"/ss_admin\") + 1);\r\nexports.client = new servicestack_client_1.JsonServiceClient(global.BaseUrl || exports.BasePath);\r\nexports.normalizeKey = function (key) { return key.toLowerCase().replace(/_/g, ''); };\r\nvar isArray = function (o) { return Object.prototype.toString.call(o) === '[object Array]'; };\r\nvar log = function (o) { console.log(o, typeof (o)); return o; };\r\nexports.normalize = function (dto, deep) {\r\n    if (isArray(dto)) {\r\n        if (!deep)\r\n            return dto;\r\n        var to = [];\r\n        for (var i = 0; i < dto.length; i++) {\r\n            to[i] = exports.normalize(dto[i], deep);\r\n        }\r\n        return to;\r\n    }\r\n    if (typeof dto != \"object\")\r\n        return dto;\r\n    var o = {};\r\n    for (var k in dto) {\r\n        o[exports.normalizeKey(k)] = deep ? exports.normalize(dto[k], deep) : dto[k];\r\n    }\r\n    return o;\r\n};\r\nexports.getField = function (o, name) {\r\n    return o == null || name == null ? null :\r\n        o[name] ||\r\n            o[Object.keys(o).filter(function (k) { return exports.normalizeKey(k) === exports.normalizeKey(name); })[0] || ''];\r\n};\r\nexports.parseResponseStatus = function (json, defaultMsg) {\r\n    if (defaultMsg === void 0) { defaultMsg = null; }\r\n    try {\r\n        var err = JSON.parse(json);\r\n        return servicestack_client_1.sanitize(err.ResponseStatus || err.responseStatus);\r\n    }\r\n    catch (e) {\r\n        return {\r\n            message: defaultMsg,\r\n            __error: { error: e, json: json }\r\n        };\r\n    }\r\n};\r\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(59)))\n\n/***/ }),\n\n/***/ 230:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(95);\n\n\n/***/ }),\n\n/***/ 95:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__webpack_require__(105);\r\n__webpack_require__(106);\r\n__webpack_require__(104);\r\nvar React = __webpack_require__(5);\r\nvar react_dom_1 = __webpack_require__(60);\r\nvar react_router_1 = __webpack_require__(7);\r\nvar react_router_dom_1 = __webpack_require__(36);\r\nvar shared_1 = __webpack_require__(22);\r\nvar AutoQuery_1 = __webpack_require__(98);\r\nvar AdminApp = (function (_super) {\r\n    __extends(AdminApp, _super);\r\n    function AdminApp() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    AdminApp.prototype.render = function () {\r\n        return React.createElement(AutoQuery_1.default, { match: { params: { name: \"\" } } });\r\n    };\r\n    return AdminApp;\r\n}(React.Component));\r\nvar AppPath = shared_1.BasePath + \"ss_admin\";\r\nvar AutoQueryPath = AppPath + \"/autoquery\";\r\nreact_dom_1.render((React.createElement(react_router_dom_1.BrowserRouter, null,\r\n    React.createElement(\"div\", null,\r\n        React.createElement(react_router_dom_1.Route, { exact: true, path: AppPath, render: function () {\r\n                return React.createElement(react_router_1.Redirect, { from: AppPath, to: AutoQueryPath });\r\n            } }),\r\n        React.createElement(react_router_dom_1.Route, { exact: true, path: AutoQueryPath, component: AutoQuery_1.default }),\r\n        React.createElement(react_router_dom_1.Route, { path: AutoQueryPath + \"/:name\", component: AutoQuery_1.default })))), document.getElementById('app'));\r\n\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(5);\r\nvar Header_1 = __webpack_require__(101);\r\nvar Sidebar_1 = __webpack_require__(103);\r\nvar Content_1 = __webpack_require__(100);\r\nvar ColumnPrefsDialog_1 = __webpack_require__(99);\r\nvar shared_1 = __webpack_require__(22);\r\nvar AutoQuery = (function (_super) {\r\n    __extends(AutoQuery, _super);\r\n    function AutoQuery(props, context) {\r\n        var _this = _super.call(this, props, context) || this;\r\n        _this.state = { metadata: null };\r\n        shared_1.client.get(\"/autoquery/metadata\").then(function (r) {\r\n            var metadata = shared_1.normalize(r, true);\r\n            _this.setState({ metadata: metadata, name: _this.getName() });\r\n        });\r\n        return _this;\r\n    }\r\n    AutoQuery.prototype.render = function () {\r\n        return this.state.metadata\r\n            ? React.createElement(App, { metadata: this.state.metadata, name: this.getName() })\r\n            : null;\r\n    };\r\n    AutoQuery.prototype.getName = function () {\r\n        return this.props.match.params.name || \"\";\r\n    };\r\n    return AutoQuery;\r\n}(React.Component));\r\nexports.default = AutoQuery;\r\nvar App = (function (_super) {\r\n    __extends(App, _super);\r\n    function App(props, context) {\r\n        var _this = _super.call(this, props, context) || this;\r\n        var operationNames = _this.props.metadata.operations.map(function (op) { return op.request; });\r\n        var viewerArgs = {}, operations = {}, types = {};\r\n        operationNames.forEach(function (name) {\r\n            viewerArgs[name] = {};\r\n            var aqViewer = _this.getAutoQueryViewer(name);\r\n            if (aqViewer && aqViewer.args) {\r\n                aqViewer.args.forEach(function (arg) { return viewerArgs[name][arg.name] = arg.value; });\r\n            }\r\n            operations[name] = _this.props.metadata.operations.filter(function (op) { return op.request === name; })[0];\r\n        });\r\n        _this.props.metadata.types.forEach(function (t) { return types[t.name] = t; });\r\n        var operationState = {};\r\n        var json = localStorage.getItem(\"v1/operationState\");\r\n        if (json)\r\n            operationState = JSON.parse(json);\r\n        _this.state = {\r\n            sidebarHidden: false, selected: null,\r\n            operationState: operationState, operationNames: operationNames, viewerArgs: viewerArgs, operations: operations, types: types\r\n        };\r\n        return _this;\r\n    }\r\n    App.prototype.resolveProperties = function (type) {\r\n        var props = (type.properties || []).slice(0);\r\n        var inherits = type.inherits;\r\n        while (inherits) {\r\n            var t = this.state.types[inherits.name];\r\n            if (!t && !t.properties)\r\n                continue;\r\n            t.properties.forEach(function (p) { return props.push(p); });\r\n            inherits = t.inherits;\r\n        }\r\n        return props;\r\n    };\r\n    App.prototype.toggleSidebar = function () {\r\n        this.setState({ sidebarHidden: !this.state.sidebarHidden });\r\n    };\r\n    App.prototype.getType = function (name) {\r\n        return this.props.metadata.types.filter(function (op) { return op.name === name; })[0];\r\n    };\r\n    App.prototype.getAutoQueryViewer = function (name) {\r\n        var type = this.getType(name);\r\n        return type != null && type.attributes != null\r\n            ? type.attributes.filter(function (attr) { return attr.name === \"AutoQueryViewer\"; })[0]\r\n            : null;\r\n    };\r\n    App.prototype.getAutoQueryViewerArgValue = function (name, argName) {\r\n        var aqViewer = this.getAutoQueryViewer(name);\r\n        var arg = aqViewer\r\n            ? aqViewer.args.filter(function (x) { return x.name === argName; })[0]\r\n            : null;\r\n        return arg != null\r\n            ? arg.value\r\n            : null;\r\n    };\r\n    App.prototype.getTitle = function (selected) {\r\n        return selected\r\n            ? this.getAutoQueryViewerArgValue(selected.name, 'Title') || selected.name\r\n            : null;\r\n    };\r\n    App.prototype.getOperationValues = function (name) {\r\n        var viewerArgs = this.state.viewerArgs[name] || {};\r\n        return Object.assign({\r\n            searchField: viewerArgs[\"DefaultSearchField\"] || \"\",\r\n            searchType: viewerArgs[\"DefaultSearchType\"] || \"\",\r\n            searchText: viewerArgs[\"DefaultSearchText\"],\r\n            conditions: [],\r\n            queries: []\r\n        }, this.state.operationState[name] || {});\r\n    };\r\n    App.prototype.getSelected = function (name) {\r\n        var operation = this.state.operations[name];\r\n        if (operation == null)\r\n            return null;\r\n        var requestType = this.state.types[name];\r\n        var fromType = this.state.types[operation.from];\r\n        var toType = this.state.types[operation.to];\r\n        return {\r\n            name: name, operation: operation, requestType: requestType,\r\n            fromType: fromType, fromTypeFields: this.resolveProperties(toType),\r\n            toType: toType, toTypeFields: this.resolveProperties(toType)\r\n        };\r\n    };\r\n    App.prototype.onOperationChange = function (opName, newValues) {\r\n        var op = this.getOperationValues(opName);\r\n        Object.keys(newValues).forEach(function (k) {\r\n            if (newValues[k] != null)\r\n                op[k] = newValues[k];\r\n        });\r\n        this.setOperationValues(opName, op);\r\n    };\r\n    App.prototype.addCondition = function (opName) {\r\n        var op = this.getOperationValues(opName);\r\n        var condition = {\r\n            id: op.searchField + \"|\" + op.searchType + \"|\" + op.searchText,\r\n            searchField: op.searchField,\r\n            searchType: op.searchType,\r\n            searchText: op.searchText\r\n        };\r\n        if (op.conditions.some(function (x) { return x.id === condition.id; }))\r\n            return;\r\n        op.searchText = \"\";\r\n        op.conditions.push(condition);\r\n        this.setOperationValues(opName, op);\r\n    };\r\n    App.prototype.removeCondition = function (opName, condition) {\r\n        var op = this.getOperationValues(opName);\r\n        op.conditions = op.conditions.filter(function (x) { return x.id !== condition.id; });\r\n        this.setOperationValues(opName, op);\r\n    };\r\n    App.prototype.setOperationValues = function (opName, op) {\r\n        var operationState = Object.assign({}, this.state.operationState);\r\n        operationState[opName] = op;\r\n        this.setState({ operationState: operationState });\r\n        localStorage.setItem(\"v1/operationState\", JSON.stringify(operationState));\r\n    };\r\n    App.prototype.showDialog = function (dialog) {\r\n        this.setState({ dialog: dialog });\r\n        setTimeout(function () { return document.getElementById(dialog).classList.toggle('active'); }, 0);\r\n    };\r\n    App.prototype.hideDialog = function () {\r\n        this.setState({ dialog: null });\r\n    };\r\n    App.prototype.saveQuery = function (opName) {\r\n        var name = prompt(\"Save Query as:\", \"My Query\");\r\n        if (!name)\r\n            return;\r\n        var op = this.getOperationValues(opName);\r\n        if (!op.queries) {\r\n            op.queries = [];\r\n        }\r\n        op.queries.push({\r\n            name: name,\r\n            searchField: op.searchField,\r\n            searchType: op.searchType,\r\n            searchText: op.searchText,\r\n            conditions: op.conditions.map(function (x) { return Object.assign({}, x); })\r\n        });\r\n        this.setOperationValues(opName, op);\r\n    };\r\n    App.prototype.removeQuery = function (opName, query) {\r\n        var op = this.getOperationValues(opName);\r\n        if (!op.queries)\r\n            return;\r\n        op.queries = op.queries.filter(function (x) { return x.name != query.name; });\r\n        this.setOperationValues(opName, op);\r\n    };\r\n    App.prototype.loadQuery = function (opName, query) {\r\n        var op = this.getOperationValues(opName);\r\n        op.searchField = query.searchField;\r\n        op.searchType = query.searchType;\r\n        op.searchText = query.searchText;\r\n        op.conditions = query.conditions;\r\n        this.setOperationValues(opName, op);\r\n    };\r\n    App.prototype.render = function () {\r\n        var _this = this;\r\n        var selected = this.getSelected(this.props.name);\r\n        var opName = selected && selected.name;\r\n        return (React.createElement(\"div\", { style: { height: '100%' } },\r\n            React.createElement(Header_1.default, { title: this.getTitle(selected), onSidebarToggle: function (e) { return _this.toggleSidebar(); } }),\r\n            React.createElement(\"div\", { id: \"body\", style: { display: 'flex', height: '100%' } },\r\n                React.createElement(\"div\", { style: { height: '100%', width: '100%', display: 'flex', flexDirection: 'row' } },\r\n                    React.createElement(Sidebar_1.default, { hide: this.state.sidebarHidden, name: opName, viewerArgs: this.state.viewerArgs, operations: this.state.operations }),\r\n                    React.createElement(Content_1.default, { config: this.props.metadata.config, userinfo: this.props.metadata.userinfo, selected: selected, values: this.getOperationValues(this.props.name), conventions: this.props.metadata.config.implicitconventions, viewerArgs: this.state.viewerArgs[opName], onChange: function (args) { return _this.onOperationChange(opName, args); }, onAddCondition: function (e) { return _this.addCondition(opName); }, onRemoveCondition: function (c) { return _this.removeCondition(opName, c); }, onShowDialog: function (id) { return _this.showDialog(id); }, onSaveQuery: function () { return _this.saveQuery(opName); }, onRemoveQuery: function (x) { return _this.removeQuery(opName, x); }, onLoadQuery: function (x) { return _this.loadQuery(opName, x); } }))),\r\n            this.state.dialog !== \"column-prefs-dialog\" ? null : (React.createElement(ColumnPrefsDialog_1.default, { onClose: function (e) { return _this.hideDialog(); }, fields: selected.toTypeFields, values: this.getOperationValues(this.props.name), onChange: function (args) { return _this.onOperationChange(opName, args); } }))));\r\n    };\r\n    return App;\r\n}(React.Component));\r\n\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(5);\r\nvar ColumnPrefsDialog = (function (_super) {\r\n    __extends(ColumnPrefsDialog, _super);\r\n    function ColumnPrefsDialog(props, context) {\r\n        var _this = _super.call(this, props, context) || this;\r\n        _this.state = {};\r\n        return _this;\r\n    }\r\n    ColumnPrefsDialog.prototype.resetFields = function () {\r\n        var fields = [];\r\n        this.props.onChange({ fields: fields });\r\n    };\r\n    ColumnPrefsDialog.prototype.selectField = function (field) {\r\n        var fields = (this.props.values.fields || []);\r\n        if (fields.indexOf(field) >= 0)\r\n            fields = fields.filter(function (x) { return x !== field; });\r\n        else\r\n            fields.push(field);\r\n        this.props.onChange({ fields: fields });\r\n    };\r\n    ColumnPrefsDialog.prototype.render = function () {\r\n        var _this = this;\r\n        var fields = (this.props.values.fields || []);\r\n        var CheckboxStyle = {\r\n            verticalAlign: 'text-bottom', fontSize: '20px', margin: '0 5px 0 0'\r\n        };\r\n        return (React.createElement(\"div\", { id: \"column-prefs-dialog\" },\r\n            React.createElement(\"div\", { className: \"dialog-wrapper\", onClick: function (e) { return _this.props.onClose(); } },\r\n                React.createElement(\"div\", { className: \"dialog\", onClick: function (e) { return e.stopPropagation(); } },\r\n                    React.createElement(\"div\", { className: \"dialog-header\" },\r\n                        React.createElement(\"h3\", null, \"Column Preferences\")),\r\n                    React.createElement(\"div\", { className: \"dialog-body\" },\r\n                        React.createElement(\"div\", { onClick: function (e) { return _this.resetFields(); }, style: {\r\n                                borderBottom: '1px solid #ccc', padding: '0 0 10px 0', margin: '0 0 15px 0', cursor: 'pointer'\r\n                            } },\r\n                            React.createElement(\"i\", { className: \"material-icons\", style: CheckboxStyle }, fields.length === 0 ? 'radio_button_checked' : 'radio_button_unchecked'),\r\n                            React.createElement(\"span\", null, \"Show all columns\")),\r\n                        this.props.fields.map(function (f) { return (React.createElement(\"div\", { onClick: function (e) { return _this.selectField(f.name); }, style: { margin: '0 0 5px 0', cursor: 'pointer' } },\r\n                            React.createElement(\"i\", { className: \"material-icons\", style: CheckboxStyle }, fields.indexOf(f.name) >= 0 ? 'check_box' : 'check_box_outline_blank'),\r\n                            React.createElement(\"span\", null, f.name))); })),\r\n                    React.createElement(\"div\", { className: \"dialog-footer\", style: { textAlign: 'right' } },\r\n                        React.createElement(\"div\", { className: \"btnText\", onClick: function (e) { return _this.props.onClose(); } },\r\n                            React.createElement(\"span\", null, \"DONE\")))))));\r\n    };\r\n    return ColumnPrefsDialog;\r\n}(React.Component));\r\nexports.default = ColumnPrefsDialog;\r\n\n\n/***/ })\n\n},[230]);\n\n\n// WEBPACK FOOTER //\n// app.bundle.js","import * as React from 'react';\r\nimport Results from './Results';\r\n\r\nimport { combinePaths, createUrl, splitOnFirst } from 'servicestack-client';\r\nimport { client, normalize, parseResponseStatus } from './shared';\r\n\r\nexport default class Content extends React.Component<any, any> {\r\n    constructor(props?, context?) {\r\n        super(props, context);\r\n        this.state = { results: null };\r\n    }\r\n\r\n    selectField(e) {\r\n        var searchField = e.target.options[e.target.selectedIndex].value,\r\n            searchType = this.props.values.searchType,\r\n            searchText = this.props.values.searchText;\r\n\r\n        const f = this.getSearchField(searchField);\r\n        if (this.isIntField(f)) {\r\n            if (isNaN(searchText))\r\n                searchText = '';\r\n            const convention = this.props.conventions.filter(c => c.name === searchType)[0];\r\n            if (!this.matchesConvention(convention, f.type))\r\n                searchType = '';\r\n        }\r\n\r\n        this.props.onChange({ searchField, searchType, searchText });\r\n    }\r\n\r\n    selectOperand(e) {\r\n        this.props.onChange({ searchType: e.target.options[e.target.selectedIndex].value });\r\n    }\r\n\r\n    changeText(e) {\r\n        this.props.onChange({ searchText: e.target.value});\r\n    }\r\n\r\n    selectFormat(format) {\r\n        if (format === this.props.values.format) //toggle\r\n            format = \"\";\r\n\r\n        this.props.onChange({ format });\r\n    }\r\n\r\n    clear() {\r\n        this.props.onChange({\r\n            searchField: null, searchType: null, searchText: '', format: '', orderBy: '', offset: 0,\r\n            fields: [], conditions: []\r\n        });\r\n    }\r\n\r\n    getAutoQueryUrl(format:string) {\r\n        const firstRoute = (this.props.selected.requestType.routes || []).filter(x => x.path.indexOf('{') === -1)[0];\r\n\r\n        const path = firstRoute\r\n            ? firstRoute.path\r\n            : `/${format || 'html'}/reply/` + this.props.selected.requestType.name;\r\n\r\n        var url = combinePaths(this.props.config.servicebaseurl, path);\r\n\r\n        if (firstRoute && format)\r\n            url += \".\" + format;\r\n\r\n        this.getArgs().forEach(arg =>\r\n            url = createUrl(url, arg));\r\n\r\n        if (this.props.values.offset)\r\n            url = createUrl(url, { skip: this.props.values.offset });\r\n\r\n        if (this.props.values.orderBy)\r\n            url = createUrl(url, { orderBy: this.props.values.orderBy });\r\n\r\n        if ((this.props.values.fields || []).length > 0) {\r\n            url = createUrl(url, { fields: this.props.values.fields.join(',') });\r\n\r\n            if (!format || format === 'html')\r\n                url = createUrl(url, { jsconfig: 'edv' });\r\n        }\r\n\r\n        url = createUrl(url, { include: \"Total\" });\r\n\r\n        url = url.replace(/%2C/g, \",\");\r\n\r\n        return url;\r\n    }\r\n\r\n    isValidCondition() {\r\n        const { searchField, searchType, searchText } = this.props.values;\r\n        return searchField && searchType && searchText\r\n            && (searchType.toLowerCase() !== 'between' || (searchText.indexOf(',') > 0 && searchText.indexOf(',') < searchText.length -1));\r\n    }\r\n\r\n    isDirty() {\r\n        return this.isValidCondition()\r\n            || this.props.values.format\r\n            || this.props.values.offset\r\n            || (this.props.values.fields || []).length > 0\r\n            || this.props.values.orderBy\r\n            || (this.props.values.conditions || []).length > 0;\r\n    }\r\n\r\n    getArgs() {\r\n        var args = [];\r\n        var conditions = (this.props.values.conditions || []).slice(0);\r\n        if (this.isValidCondition()) {\r\n            conditions.push(this.props.values);\r\n        }\r\n\r\n        conditions.forEach(condition => {\r\n            const { searchField, searchType, searchText } = condition;\r\n            var convention = this.props.conventions.filter(c => c.name === searchType)[0];\r\n            if (convention) {\r\n                const field = convention.value.replace(\"%\", searchField);\r\n                args.push({ [field]: searchText });\r\n            }\r\n        });\r\n\r\n        return args;\r\n    }\r\n\r\n    getSearchField(name: string) {\r\n        return this.props.selected.fromTypeFields.filter(f => f.name === name)[0];\r\n    }\r\n\r\n    isIntField(f) {\r\n        return f && (f.type || '').toLowerCase().startsWith('int');\r\n    }\r\n\r\n    matchesConvention(convention, fieldType) {\r\n        return !convention || !convention.types || !fieldType ||\r\n            convention.types.replace(/ /g, '').toLowerCase().split(',').indexOf(fieldType.toLowerCase()) >= 0;\r\n    }\r\n\r\n    getConventions() {\r\n        const values = this.props.values;\r\n        if (values && values.searchField) {\r\n            const f = this.getSearchField(values.searchField);\r\n            if (f) {\r\n                return this.props.conventions.filter(c => this.matchesConvention(c, f.type));\r\n            }\r\n        }\r\n        return this.props.conventions;\r\n    }\r\n\r\n    renderResults(response) {\r\n        var fieldNames = null, fieldWidths = null;\r\n        var fieldDefs = (this.props.viewerArgs[\"DefaultFields\"] || \"\")\r\n            .split(',')\r\n            .filter(x => x.trim().length > 0);\r\n\r\n        if (fieldDefs.length > 0) {\r\n            fieldNames = [], fieldWidths = {};\r\n            fieldDefs.forEach(x => {\r\n                var parts = splitOnFirst(x, ':');\r\n                fieldNames.push(parts[0]);\r\n                if (parts.length > 1)\r\n                    fieldWidths[parts[0]] = parts[1];\r\n            });\r\n        }\r\n\r\n        var { offset, results, total } = response, maxLimit = this.props.config.maxlimit;\r\n\r\n        const Control = (name, enable, offset) => enable\r\n            ? <i className=\"material-icons\" style={{ cursor: 'pointer' }} onClick={e => this.props.onChange({ offset })}>{name}</i>\r\n            : <i className=\"material-icons\" style={{ color: '#ccc' }}>{name}</i>;\r\n\r\n        var Paging = (\r\n            <span className=\"paging\" style={{padding:'0 10px 0 0'}}>\r\n                {Control(\"skip_previous\", offset > 0, 0) }\r\n                {Control(\"chevron_left\", offset > 0, Math.max(offset - maxLimit, 0)) }\r\n                {Control(\"chevron_right\", offset + maxLimit < total, offset + maxLimit) }\r\n                {Control(\"skip_next\", offset + maxLimit < total, Math.floor((total - 1) / maxLimit) * maxLimit)}\r\n            </span>\r\n        );\r\n\r\n        return response.results.length === 0\r\n            ? <div className=\"results-none\">There were no results</div>\r\n            : (\r\n                <div>\r\n                    <div className=\"noselect\" style={{ color: '#757575', padding: '15px 0' }}>\r\n                        {Paging}\r\n                        <span>\r\n                            Showing Results {offset + 1} - {offset + results.length} of {total}\r\n                        </span>\r\n\r\n                        <i className=\"material-icons\" title=\"show/hide columns\" onClick={e => this.props.onShowDialog('column-prefs-dialog')} style={{\r\n                            verticalAlign: 'text-bottom', margin: '0 0 0 10px', cursor: 'pointer', fontSize:'20px'\r\n                        }}>view_list</i>\r\n                    </div>\r\n\r\n                    <Results results={response.results} fieldNames={fieldNames} fieldWidths={fieldWidths}\r\n                        selected={this.props.selected}\r\n                        values={this.props.values}\r\n                        onOrderByChange={orderBy => this.props.onChange({ orderBy })} />\r\n                </div>\r\n            );\r\n    }\r\n\r\n    renderBody(op, values) {\r\n        const url = this.getAutoQueryUrl(this.props.values.format);\r\n        const name = this.props.selected.name;\r\n        const loadingNewQuery = this.state.url !== url;\r\n        if (loadingNewQuery) {\r\n            let newUrl = this.getAutoQueryUrl(\"json\");\r\n            newUrl = createUrl(newUrl, { jsconfig: 'DateHandler:ISO8601DateOnly,TimeSpanHandler:StandardFormat' });\r\n\r\n            client.get(newUrl)\r\n                .then(r => {\r\n                    var response = normalize(r);\r\n                    response.url = url;\r\n                    this.setState({ url, name, response, error:null });\r\n                })\r\n                .catch(r => {\r\n                    var status = r.responseStatus;\r\n                    this.setState({ url, name, response:null, error: `${status.errorCode}: ${status.message}` });\r\n                });\r\n        }\r\n\r\n        const queries = (this.props.values.queries || []);\r\n\r\n        return (\r\n            <div>\r\n                <div style={{ zIndex:2, color: '#757575', position: 'absolute', top:'25px', right: '25px', maxWidth:'700px' }}>\r\n                    {this.props.viewerArgs[\"Description\"] }\r\n                </div>\r\n                <div id=\"url\" style={{ padding: '0 0 10px 0', whiteSpace:'nowrap' }}>\r\n                    <a href={url} target=\"_blank\">{url}</a>\r\n                    {!  this.isDirty() ? null : (\r\n                        <i className=\"material-icons noselect\" title=\"reset query\" onClick={e => this.clear() } style={{\r\n                            padding: '0 0 0 5px', color: '#757575', fontSize: '16px', verticalAlign: 'bottom', cursor: 'pointer'\r\n                        }}>clear</i>\r\n                    )}\r\n                </div>\r\n\r\n                <select value={values.searchField} onChange={e => this.selectField(e) }>\r\n                    <option></option>\r\n                    {op.fromTypeFields.map(\r\n                        f => <option key={f.name}>{f.name}</option>) }\r\n                </select>\r\n                <select value={values.searchType} onChange={e => this.selectOperand(e) }>\r\n                    <option></option>\r\n                    {this.getConventions().map(\r\n                        c => <option key={c.name}>{c.name}</option>) }\r\n                </select>\r\n                <input type=\"text\" id=\"txtSearch\" value={values.searchText} autoComplete=\"off\"\r\n                    onChange={e => this.changeText(e) }\r\n                    onKeyDown={e => e.keyCode === 13 ? this.props.onAddCondition() : null} />\r\n\r\n                {this.isValidCondition()\r\n                    ? (<i className=\"material-icons\" style={{ fontSize: '30px', verticalAlign: 'bottom', color: '#00C853', cursor: 'pointer' }}\r\n                        onClick={e => this.props.onAddCondition() } title=\"Add condition\">add_circle</i>)\r\n                    : (<i className=\"material-icons\" style={{ fontSize: '30px', verticalAlign: 'bottom', color: '#ccc' }}\r\n                        title=\"Incomplete condition\">add_circle</i>)}\r\n\r\n                {!this.props.config.formats || this.props.config.formats.length === 0 ? null : (\r\n                    <span className=\"formats noselect\">\r\n                        {this.props.config.formats.map(f =>\r\n                            <span key={f} className={values.format === f ? 'active' : ''} onClick={e => this.selectFormat(f)}>{f}</span>) }\r\n                    </span>) }\r\n\r\n                {this.props.values.conditions.length + queries.length > 0 ?\r\n                    (<div>\r\n                        <div className=\"conditions\">\r\n                            {this.props.values.conditions.map(c => (\r\n                                <div key={c.id}>\r\n                                    <i className=\"material-icons\" style={{ color: '#db4437', cursor: 'pointer', padding: '0 5px 0 0' }}\r\n                                        title=\"remove condition\"\r\n                                        onClick={e => this.props.onRemoveCondition(c) }>remove_circle</i>\r\n                                    {c.searchField} {c.searchType} {c.searchText}\r\n                                </div>\r\n                            )) }\r\n                        </div>\r\n\r\n                        {this.props.values.conditions.length > 0\r\n                            ? (<div style={{ display: 'inline-block', verticalAlign: 'top', padding: 10 }}>\r\n                                   <i title=\"Save Query\" className=\"material-icons\" style={{ fontSize: '24px', color: '#444', cursor: 'pointer' }}\r\n                                      onClick={e => this.props.onSaveQuery() }>save</i>\r\n                               </div>)\r\n                            : null}\r\n                        \r\n                        <div className=\"queries\">\r\n                            {queries.map(x => (\r\n                                <div>\r\n                                    <i className=\"material-icons\" style={{ color: '#db4437', cursor: 'pointer', padding: '0 5px 0 0' }}\r\n                                        title=\"remove query\"\r\n                                        onClick={e => this.props.onRemoveQuery(x) }>remove_circle</i>\r\n\r\n                                    <span className=\"lnk\" title=\"load query\"\r\n                                        onClick={e => this.props.onLoadQuery(x) }>{x.name}</span>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>)\r\n                    : null}\r\n\r\n                { this.state.response\r\n                    ? (!loadingNewQuery || name === this.state.name\r\n                        ? this.renderResults(this.state.response)\r\n                        : (<div style={{ color: '#757575', padding:'20px 0 0 0' }}>\r\n                                <i className=\"material-icons spin\" style={{ fontSize:'20px', verticalAlign: 'text-bottom' }}>cached</i>\r\n                                <span style={{ padding:'0 0 0 5px'}}>loading results...</span>\r\n                           </div>))\r\n                    : this.state.error\r\n                        ? <div style={{ color:'#db4437', padding:5 }}>{this.state.error}</div>\r\n                        : null }\r\n\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const isMsEdge = /Edge/.test(navigator.userAgent);\r\n        return (\r\n            <div id=\"content\" style={{ width: '100%', height: '100%', overflow: 'auto' }}>\r\n                <div style={{ padding: '90px 0 20px 20px' }}>\r\n                    <table>\r\n                    <tbody>\r\n                        <tr>\r\n                            {isMsEdge ? <td style={{ minWidth: '290px' }}></td> : null}\r\n                            <td>\r\n                                {this.props.selected\r\n                                    ? this.renderBody(this.props.selected, this.props.values)\r\n                                    : (<div style={{ padding: '15px 0', fontSize:'20px', color:'#757575' }}>\r\n                                        <i className=\"material-icons\" style={{ verticalAlign: 'bottom', margin:'0 10px 0 0'}}>arrow_back</i>\r\n                                        {this.props.userinfo.querycount > 0\r\n                                            ? \"Please Select a Query\"\r\n                                                : this.props.userinfo.isauthenticated\r\n                                                    ? \"There are no queries available\"\r\n                                                    : \"Please Sign In to see your available queries\"}</div>) }\r\n                            </td>\r\n                            {!isMsEdge ? <td style={{ minWidth: '290px' }}></td> : null}\r\n                        </tr>\r\n                     </tbody>\r\n                     </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Content.tsx","import * as React from 'react';\r\n\r\nexport default class Header extends React.Component<any, any> {\r\n    render() {\r\n        return (\r\n            <div id=\"header\" style={{ margin: 'auto', display: 'flex', flexDirection: 'row' }}>\r\n                <i className=\"material-icons\" style={{ cursor: 'pointer' }} onClick={e => this.props.onSidebarToggle() }>\r\n                    menu\r\n                </i>\r\n                <h1>AutoQuery</h1>\r\n                {this.props.title == null ? <div style={{flex:1}} /> : (\r\n                    <div id=\"header-content\" style={{ display: 'flex', flex: 1 }}>\r\n                        <div>\r\n                            <div className=\"seperator\"></div>\r\n                        </div>\r\n                        <h2>{this.props.title}</h2>\r\n                        <div style={{ margin: 'auto', flex: 1 }}></div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Header.tsx","import * as React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Link } from 'react-router-dom';\r\nimport { getField } from './shared';\r\n\r\nimport { humanize } from 'servicestack-client';\r\n\r\nexport default class Results extends React.Component<any, any> {\r\n    renderValue(o: any) {\r\n        return Array.isArray(o)\r\n            ? o.join(', ') \r\n            : typeof o == \"undefined\"\r\n            ? \"\" \r\n            : typeof o == \"object\"\r\n                ? JSON.stringify(o)\r\n                : o + \"\";\r\n    }\r\n\r\n    formatString(s: string) {\r\n        if (s) {\r\n            if (s.startsWith(\"http\"))\r\n                return <a href={s} target=\"_blank\">{s.substring(s.indexOf('://') + 3) }</a>;\r\n\r\n            if (s.toLowerCase() === \"false\")\r\n                return <i className=\"material-icons\" style={{ color: '#757575', fontSize: '14px' }}>check_box_outline_blank</i>;\r\n            if (s.toLowerCase() === \"true\")\r\n                return <i className=\"material-icons\" style={{ color: '#66BB6A', fontSize: '14px' }}>check_box</i>;\r\n        }\r\n\r\n        return <span>{s}</span>;\r\n    }\r\n\r\n    render() {\r\n        var Results = <div className=\"results-none\">There were no results</div>;\r\n\r\n        var results = this.props.results;\r\n        if (results && results.length > 0) {\r\n            var fieldNames = this.props.values.fields || [];\r\n            if (fieldNames.length === 0) {\r\n                fieldNames = this.props.fieldNames ||\r\n                    this.props.selected.toTypeFields.map(x => x.name);\r\n            }\r\n\r\n            var fieldWidths = this.props.fieldWidths || {};\r\n\r\n            var orderBy = (this.props.values.orderBy || '');\r\n            var orderByName = orderBy.startsWith('-') ? orderBy.substr(1) : orderBy;\r\n\r\n            Results = (\r\n                <table className=\"results\">\r\n                    <thead><tr className=\"noselect\">{ fieldNames.map(f => (\r\n                        <th key={f} style={{ cursor: 'pointer' }}\r\n                            onClick={e => this.props.onOrderByChange(f !== orderByName ? '-' + f : !orderBy.startsWith('-') ? '' : orderByName) }>\r\n\r\n                            { humanize(f) }\r\n\r\n                            { f !== orderByName ? null :\r\n                                <i className=\"material-icons\" style={{fontSize:'18px',verticalAlign:'bottom'}}>{orderBy.startsWith('-') ? \"arrow_drop_down\" : \"arrow_drop_up\"}</i>}\r\n                        </th>\r\n                    ))}</tr></thead>\r\n                    <tbody>\r\n                        { results.map((r,i) => (\r\n                            <tr key={i}>\r\n                                {fieldNames.map((f, j) => (\r\n                                    <td key={j} title={this.renderValue(getField(r,f)) } style={getField(fieldWidths,f) ? { maxWidth: parseInt(getField(fieldWidths,f)) } : {}}>\r\n                                        { this.formatString(this.renderValue(getField(r,f))) }\r\n                                    </td>\r\n                                )) }\r\n                            </tr>)\r\n                        ) }\r\n                        </tbody>\r\n                </table>             \r\n            );\r\n        }\r\n\r\n        return Results;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Results.tsx","import * as React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Link } from 'react-router-dom';\r\nimport { splitOnFirst } from 'servicestack-client';\r\n\r\nimport { BasePath } from './shared';\r\n\r\nexport default class Sidebar extends React.Component<any, any> {\r\n    constructor(props?, context?) {\r\n        super(props, context);\r\n        this.state = { filter: undefined };\r\n    }\r\n\r\n    handleFilter(e) {\r\n        this.setState({ filter: e.target.value.toLowerCase() });\r\n    }\r\n\r\n    renderIcon(name) {\r\n        var iconUrl = this.props.viewerArgs[name][\"IconUrl\"];\r\n        if (iconUrl) {\r\n            if (iconUrl.startsWith('material-icons:'))\r\n                return (<i className=\"material-icons\">{splitOnFirst(iconUrl, ':')[1]}</i>);\r\n            if (iconUrl.startsWith('octicon:'))\r\n                return (<span className={\"mega-octicon octicon-\" + splitOnFirst(iconUrl, ':')[1]}></span>);\r\n            return (<img src={iconUrl} />);\r\n        }\r\n        return (<i className=\"material-icons\">search</i>);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"sidebar\" className={this.props.hide ? ' hide' : ''}>\r\n                <div style={{ padding: '90px 0 0 0' }}>\r\n                    <div id=\"aq-filter\">\r\n                        <input type=\"text\" placeholder=\"filter\" style={{ margin: \"10px 15px\" }}\r\n                            onChange={e => this.handleFilter(e)} value={this.state.filter} />\r\n                    </div>\r\n                    <div id=\"aq-list\">\r\n                        {Object.keys(this.props.operations)\r\n                            .filter(op => this.state.filter == null || op.toLowerCase().indexOf(this.state.filter) >= 0)\r\n                            .map((op,i) => (\r\n                            <div key={i} className={\"aq-item\" + (op === this.props.name ? \" active\" : \"\")}>\r\n                                {this.renderIcon(op)}\r\n                                <Link to={BasePath + \"ss_admin/autoquery/\" + op}>{op}</Link>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Sidebar.tsx","import { JsonServiceClient, sanitize } from 'servicestack-client';\r\n\r\ndeclare var global; //populated from package.json/jest\r\n\r\nexport var BasePath = location.pathname.substring(0, location.pathname.indexOf(\"/ss_admin\") + 1);\r\n\r\nexport var client = new JsonServiceClient(global.BaseUrl || BasePath);\r\n\r\nexport const normalizeKey = (key: string) => key.toLowerCase().replace(/_/g, '');\r\n\r\nconst isArray = (o: any) => Object.prototype.toString.call(o) === '[object Array]';\r\n\r\nconst log = (o: any) => { console.log(o, typeof(o)); return o; }\r\n\r\nexport const normalize = (dto: any, deep?: boolean) => {\r\n    if (isArray(dto)) {\r\n        if (!deep) return dto;\r\n        const to = [];\r\n        for (let i = 0; i < dto.length; i++) {\r\n            to[i] = normalize(dto[i], deep);\r\n        }\r\n        return to;\r\n    }\r\n    if (typeof dto != \"object\") return dto;\r\n    var o = {};\r\n    for (let k in dto) {\r\n        o[normalizeKey(k)] = deep ? normalize(dto[k], deep) : dto[k];\r\n    }\r\n    return o;\r\n}\r\n\r\nexport const getField = (o: any, name: string) =>\r\n    o == null || name == null ? null :\r\n        o[name] ||\r\n        o[Object.keys(o).filter(k => normalizeKey(k) === normalizeKey(name))[0] || ''];\r\n\r\nexport const parseResponseStatus = (json, defaultMsg=null) => {\r\n    try {\r\n        var err = JSON.parse(json);\r\n        return sanitize(err.ResponseStatus || err.responseStatus);\r\n    } catch (e) {\r\n        return {\r\n            message: defaultMsg,\r\n            __error: { error: e, json: json }\r\n        };\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/shared.tsx","import './assets/img/iconfont/material-icons.css';\r\nimport './assets/img/octicon/octicon.css';\r\nimport './app.css';\r\n\r\nimport * as React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Redirect } from 'react-router';\r\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\r\n\r\nimport { BasePath } from './shared';\r\nimport AutoQuery from './AutoQuery';\r\n\r\nclass AdminApp extends React.Component<any, any> {\r\n    render() {\r\n        return <AutoQuery match={ { params: { name:\"\"} } } />;\r\n    }\r\n}\r\n \r\nvar AppPath = BasePath + \"ss_admin\";\r\nconst AutoQueryPath = AppPath + \"/autoquery\";\r\n\r\nrender(\r\n    (<Router>\r\n        <div>\r\n            <Route exact path={AppPath} render={() => \r\n                <Redirect from={AppPath} to={AutoQueryPath}/>\r\n                } />\r\n            <Route exact path={AutoQueryPath} component={AutoQuery} />\r\n            <Route path={AutoQueryPath + \"/:name\"} component={AutoQuery} />\r\n        </div>\r\n    </Router>), \r\n    document.getElementById('app'));\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.tsx","import * as React from 'react';\r\nimport { render } from 'react-dom';\r\nimport Header from './Header';\r\nimport Sidebar from './Sidebar';\r\nimport Content from './Content';\r\nimport ColumnPrefsDialog from './ColumnPrefsDialog';\r\n\r\nimport { client, normalize } from './shared';\r\n\r\nexport default class AutoQuery extends React.Component<any, any> {\r\n    constructor(props?, context?) {\r\n        super(props, context);\r\n        this.state = { metadata: null };\r\n\r\n        client.get(\"/autoquery/metadata\").then(r => {\r\n            const metadata = normalize(r, true);\r\n            this.setState({ metadata, name: this.getName() })\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return this.state.metadata\r\n            ? <App metadata={this.state.metadata} name={this.getName()} />\r\n            : null;\r\n    }\r\n\r\n    getName() {\r\n        return this.props.match.params.name || \"\";\r\n    }\r\n}\r\n\r\nclass App extends React.Component<any, any> {\r\n    constructor(props?, context?) {\r\n        super(props, context);\r\n\r\n        var operationNames = this.props.metadata.operations.map(op => op.request);\r\n\r\n        var viewerArgs = {}, operations = {}, types = {};\r\n        operationNames.forEach(name => {\r\n            viewerArgs[name] = {};\r\n            var aqViewer = this.getAutoQueryViewer(name);\r\n            if (aqViewer && aqViewer.args) {\r\n                aqViewer.args.forEach(arg => viewerArgs[name][arg.name] = arg.value);\r\n            }\r\n\r\n            operations[name] = this.props.metadata.operations.filter(op => op.request === name)[0];\r\n        });\r\n\r\n        this.props.metadata.types.forEach(t => types[t.name] = t);\r\n\r\n        var operationState = {};\r\n        var json = localStorage.getItem(\"v1/operationState\");\r\n        if (json)\r\n            operationState = JSON.parse(json);\r\n\r\n        this.state = {\r\n            sidebarHidden: false, selected: null, \r\n            operationState, operationNames, viewerArgs, operations, types\r\n        };\r\n    }\r\n\r\n    resolveProperties(type) {\r\n        var props = (type.properties || []).slice(0);\r\n\r\n        let inherits = type.inherits;\r\n        while (inherits) {\r\n            const t = this.state.types[inherits.name];\r\n            if (!t && !t.properties) continue;\r\n            t.properties.forEach(p => props.push(p));\r\n            inherits = t.inherits;\r\n        }\r\n\r\n        return props;\r\n    }\r\n\r\n    toggleSidebar() {\r\n        this.setState({ sidebarHidden: !this.state.sidebarHidden });\r\n    }\r\n\r\n    getType(name: string) {\r\n        return this.props.metadata.types.filter(op => op.name === name)[0];\r\n    }\r\n\r\n    getAutoQueryViewer(name:string) {\r\n        const type = this.getType(name);\r\n        return type != null && type.attributes != null\r\n            ? type.attributes.filter(attr => attr.name === \"AutoQueryViewer\")[0]\r\n            : null;\r\n    }\r\n\r\n    getAutoQueryViewerArgValue(name:string, argName:string) {\r\n        var aqViewer = this.getAutoQueryViewer(name);\r\n        var arg = aqViewer\r\n            ? aqViewer.args.filter(x => x.name === argName)[0]\r\n            : null;\r\n        return arg != null\r\n            ? arg.value\r\n            : null;\r\n    }\r\n\r\n    getTitle(selected) {\r\n        return selected\r\n            ? this.getAutoQueryViewerArgValue(selected.name, 'Title') || selected.name\r\n            : null;\r\n    }\r\n\r\n    getOperationValues(name: string) {\r\n        const viewerArgs = this.state.viewerArgs[name] || {};\r\n        return Object.assign({\r\n            searchField: viewerArgs[\"DefaultSearchField\"] || \"\",\r\n            searchType: viewerArgs[\"DefaultSearchType\"] || \"\",\r\n            searchText: viewerArgs[\"DefaultSearchText\"],\r\n            conditions: [],\r\n            queries: []\r\n        }, this.state.operationState[name] || {});\r\n    }\r\n\r\n    getSelected(name: string) {\r\n        const operation = this.state.operations[name];\r\n        if (operation == null)\r\n            return null;\r\n        const requestType = this.state.types[name];\r\n        const fromType = this.state.types[operation.from];\r\n        const toType = this.state.types[operation.to];\r\n        return {\r\n            name, operation, requestType,\r\n            fromType, fromTypeFields: this.resolveProperties(toType),\r\n            toType, toTypeFields: this.resolveProperties(toType)\r\n        };\r\n    }\r\n\r\n    onOperationChange(opName: string, newValues: any) {\r\n        const op = this.getOperationValues(opName);\r\n\r\n        Object.keys(newValues).forEach(k => {\r\n            if (newValues[k] != null)\r\n                op[k] = newValues[k];\r\n        });\r\n\r\n        this.setOperationValues(opName, op);\r\n    }\r\n\r\n    addCondition(opName:string) {\r\n        const op = this.getOperationValues(opName);\r\n        const condition = {\r\n            id: `${op.searchField}|${op.searchType}|${op.searchText}`,\r\n            searchField: op.searchField,\r\n            searchType: op.searchType,\r\n            searchText: op.searchText\r\n        };\r\n\r\n        if (op.conditions.some(x => x.id === condition.id))\r\n            return;\r\n\r\n        op.searchText = \"\";\r\n        op.conditions.push(condition);\r\n\r\n        this.setOperationValues(opName, op);\r\n    }\r\n\r\n    removeCondition(opName: string, condition:any) {\r\n        const op = this.getOperationValues(opName);\r\n        op.conditions = op.conditions.filter(x => x.id !== condition.id);\r\n        this.setOperationValues(opName, op);\r\n    }\r\n\r\n    setOperationValues(opName, op) {\r\n        var operationState = Object.assign({}, this.state.operationState);\r\n        operationState[opName] = op;\r\n        this.setState({ operationState });\r\n        localStorage.setItem(\"v1/operationState\", JSON.stringify(operationState));\r\n    }\r\n\r\n    showDialog(dialog) {\r\n        this.setState({ dialog });\r\n        setTimeout(() => document.getElementById(dialog).classList.toggle('active'), 0);\r\n    }\r\n\r\n    hideDialog() {\r\n        this.setState({ dialog: null });\r\n    }\r\n\r\n    saveQuery(opName:string) {\r\n        const name = prompt(\"Save Query as:\", \"My Query\");\r\n        if (!name) return;\r\n\r\n        const op = this.getOperationValues(opName);\r\n        if (!op.queries) {\r\n            op.queries = [];\r\n        }\r\n\r\n        op.queries.push({\r\n            name,\r\n            searchField: op.searchField,\r\n            searchType: op.searchType,\r\n            searchText: op.searchText,\r\n            conditions: op.conditions.map(x => Object.assign({}, x))\r\n        });\r\n\r\n        this.setOperationValues(opName, op);\r\n    }\r\n\r\n    removeQuery(opName: string, query: any) {\r\n        const op = this.getOperationValues(opName);\r\n        if (!op.queries) return;\r\n        op.queries = op.queries.filter(x => x.name != query.name);\r\n        this.setOperationValues(opName, op);\r\n    }\r\n\r\n    loadQuery(opName: string, query: any) {\r\n        const op = this.getOperationValues(opName);\r\n        op.searchField = query.searchField;\r\n        op.searchType = query.searchType;\r\n        op.searchText = query.searchText;\r\n        op.conditions = query.conditions;\r\n        this.setOperationValues(opName, op);\r\n    }\r\n\r\n    render() {\r\n        var selected = this.getSelected(this.props.name);\r\n        var opName = selected && selected.name;\r\n        return (\r\n            <div style={{ height: '100%' }}>\r\n                <Header title={this.getTitle(selected)} onSidebarToggle={e => this.toggleSidebar() } />\r\n                <div id=\"body\" style={{ display:'flex', height:'100%' }}>\r\n                    <div style={{ height: '100%', width: '100%', display: 'flex', flexDirection: 'row' }}>\r\n                        <Sidebar\r\n                            hide={this.state.sidebarHidden} name={opName}                        \r\n                            viewerArgs={this.state.viewerArgs}\r\n                            operations={this.state.operations}\r\n                            />\r\n                        <Content\r\n                            config={this.props.metadata.config}\r\n                            userinfo={this.props.metadata.userinfo}\r\n                            selected={selected}\r\n                            values={this.getOperationValues(this.props.name)}\r\n                            conventions={this.props.metadata.config.implicitconventions}\r\n                            viewerArgs={this.state.viewerArgs[opName]}\r\n                            onChange={args => this.onOperationChange(opName, args)}\r\n                            onAddCondition={e => this.addCondition(opName)}\r\n                            onRemoveCondition={c => this.removeCondition(opName, c) }\r\n                            onShowDialog={id => this.showDialog(id) }\r\n                            onSaveQuery={() => this.saveQuery(opName) }\r\n                            onRemoveQuery={x => this.removeQuery(opName, x) }\r\n                            onLoadQuery={x => this.loadQuery(opName, x) }\r\n                            />\r\n                    </div>\r\n                </div>\r\n\r\n                {this.state.dialog !== \"column-prefs-dialog\" ? null : (\r\n                    <ColumnPrefsDialog onClose={e => this.hideDialog() }\r\n                        fields={selected.toTypeFields}\r\n                        values={this.getOperationValues(this.props.name)}\r\n                        onChange={args => this.onOperationChange(opName, args) }\r\n                        />\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/AutoQuery.tsx","import * as React from 'react';\r\nimport { render } from 'react-dom';\r\n\r\nexport default class ColumnPrefsDialog extends React.Component<any, any> {\r\n    constructor(props?, context?) {\r\n        super(props, context);\r\n        this.state = {};\r\n    }\r\n\r\n    resetFields() {\r\n        var fields = [];\r\n        this.props.onChange({ fields });\r\n    }\r\n\r\n    selectField(field) {\r\n        let fields = (this.props.values.fields || []);\r\n\r\n        if (fields.indexOf(field) >= 0)\r\n            fields = fields.filter(x => x !== field);\r\n        else\r\n            fields.push(field);\r\n\r\n        this.props.onChange({ fields });\r\n    }\r\n\r\n    render() {\r\n        var fields = (this.props.values.fields || []);\r\n\r\n        var CheckboxStyle = {\r\n            verticalAlign: 'text-bottom', fontSize: '20px', margin: '0 5px 0 0'\r\n        };\r\n\r\n        return (\r\n            <div id=\"column-prefs-dialog\">\r\n                <div className=\"dialog-wrapper\" onClick={e => this.props.onClose()}>\r\n                    <div className=\"dialog\" onClick={e => e.stopPropagation() }>\r\n\r\n                        <div className=\"dialog-header\">\r\n                            <h3>Column Preferences</h3>\r\n                        </div>\r\n\r\n                        <div className=\"dialog-body\">\r\n                            <div onClick={e => this.resetFields()} style={{\r\n                                     borderBottom: '1px solid #ccc', padding: '0 0 10px 0', margin: '0 0 15px 0', cursor: 'pointer'\r\n                                }}>\r\n                                <i className=\"material-icons\" style={CheckboxStyle}>\r\n                                    {fields.length === 0 ? 'radio_button_checked' : 'radio_button_unchecked'}\r\n                                </i>\r\n                                <span>Show all columns</span>\r\n                            </div>\r\n\r\n                            {this.props.fields.map(f => (\r\n                                <div onClick={e => this.selectField(f.name)} style={{ margin: '0 0 5px 0', cursor: 'pointer' }}>\r\n                                    <i className=\"material-icons\"  style={CheckboxStyle}>\r\n                                        {fields.indexOf(f.name) >= 0 ? 'check_box' : 'check_box_outline_blank'}\r\n                                        </i>\r\n                                    <span>{f.name}</span>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n\r\n                        <div className=\"dialog-footer\" style={{textAlign:'right'}}>\r\n                            <div className=\"btnText\" onClick={e => this.props.onClose()}>\r\n                                <span>DONE</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/ColumnPrefsDialog.tsx"],"sourceRoot":""}