{"version":3,"sources":["webpack:///app.bundle.js","webpack:///./src/Content.tsx","webpack:///./src/Header.tsx","webpack:///./src/Results.tsx","webpack:///./src/Sidebar.tsx","webpack:///./src/shared.tsx","webpack:///./src/app.tsx","webpack:///./src/AutoQuery.tsx","webpack:///./src/ColumnPrefsDialog.tsx"],"names":["webpackJsonp","100","module","exports","__webpack_require__","__extends","this","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","value","React","Results_1","servicestack_client_1","shared_1","Content","_super","props","context","_this","call","state","results","selectField","e","searchField","target","options","selectedIndex","searchType","values","searchText","f","getSearchField","isIntField","isNaN","convention","conventions","filter","c","name","matchesConvention","type","onChange","selectOperand","changeText","selectFormat","format","clear","orderBy","offset","fields","conditions","getAutoQueryUrl","firstRoute","selected","operation","routes","x","path","indexOf","requestType","url","combinePaths","config","servicebaseurl","getArgs","forEach","arg","createUrl","skip","length","join","jsconfig","include","replace","isValidCondition","_a","toLowerCase","isDirty","args","slice","push","condition","field","fromTypeFields","startsWith","fieldType","types","split","getConventions","f_1","renderResults","response","fieldNames","fieldWidths","fieldDefs","viewerArgs","trim","parts","splitOnFirst","total","maxLimit","maxlimit","Control","enable","createElement","className","style","cursor","onClick","color","Paging","padding","Math","max","floor","title","onShowDialog","verticalAlign","margin","fontSize","default","onOrderByChange","renderBody","op","loadingNewQuery","newUrl","client","get","then","r","normalize","setState","error","catch","status","responseStatus","errorCode","message","queries","id","whiteSpace","href","map","key","autoComplete","onKeyDown","keyCode","onAddCondition","formats","onRemoveCondition","display","onSaveQuery","onRemoveQuery","onLoadQuery","render","isMsEdge","test","navigator","userAgent","minWidth","userinfo","querycount","isauthenticated","Component","101","Header","apply","arguments","flexDirection","onSidebarToggle","flex","102","Results","renderValue","o","isArray","JSON","stringify","formatString","s","substring","toTypeFields","orderByName","substr","humanize","i","j","getField","maxWidth","parseInt","103","react_router_dom_1","Sidebar","undefined","handleFilter","renderIcon","iconUrl","src","placeholder","keys","operations","Link","to","BasePath","104","105","106","22","global","location","pathname","JsonServiceClient","BaseUrl","normalizeKey","toString","dto","deep","k","parseResponseStatus","json","defaultMsg","err","parse","sanitize","ResponseStatus","__error","230","95","react_dom_1","react_router_1","AutoQuery_1","AppPath","AdminApp","match","params","AutoQueryPath","BrowserRouter","Route","exact","Redirect","from","component","document","getElementById","98","Header_1","Sidebar_1","Content_1","ColumnPrefsDialog_1","AutoQuery","metadata","getName","App","operationNames","request","aqViewer","getAutoQueryViewer","console","log","t","operationState","localStorage","getItem","sidebarHidden","resolveProperties","properties","inherits","toggleSidebar","getType","attributes","attr","getAutoQueryViewerArgValue","argName","getTitle","getOperationValues","assign","getSelected","fromType","toType","onOperationChange","opName","newValues","setOperationValues","addCondition","some","removeCondition","setItem","showDialog","dialog","setTimeout","classList","toggle","hideDialog","saveQuery","prompt","removeQuery","query","loadQuery","height","implicitconventions","onClose","99","ColumnPrefsDialog","resetFields","CheckboxStyle","stopPropagation","borderBottom","textAlign"],"mappings":"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","file":"app.bundle.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 100:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(5);\r\nvar Results_1 = __webpack_require__(102);\r\nvar servicestack_client_1 = __webpack_require__(21);\r\nvar shared_1 = __webpack_require__(22);\r\nvar Content = (function (_super) {\r\n    __extends(Content, _super);\r\n    function Content(props, context) {\r\n        var _this = _super.call(this, props, context) || this;\r\n        _this.state = { results: null };\r\n        return _this;\r\n    }\r\n    Content.prototype.selectField = function (e) {\r\n        var searchField = e.target.options[e.target.selectedIndex].value, searchType = this.props.values.searchType, searchText = this.props.values.searchText;\r\n        var f = this.getSearchField(searchField);\r\n        if (this.isIntField(f)) {\r\n            if (isNaN(searchText))\r\n                searchText = '';\r\n            var convention = this.props.conventions.filter(function (c) { return c.name === searchType; })[0];\r\n            if (!this.matchesConvention(convention, f.type))\r\n                searchType = '';\r\n        }\r\n        this.props.onChange({ searchField: searchField, searchType: searchType, searchText: searchText });\r\n    };\r\n    Content.prototype.selectOperand = function (e) {\r\n        this.props.onChange({ searchType: e.target.options[e.target.selectedIndex].value });\r\n    };\r\n    Content.prototype.changeText = function (e) {\r\n        this.props.onChange({ searchText: e.target.value });\r\n    };\r\n    Content.prototype.selectFormat = function (format) {\r\n        if (format === this.props.values.format)\r\n            format = \"\";\r\n        this.props.onChange({ format: format });\r\n    };\r\n    Content.prototype.clear = function () {\r\n        this.props.onChange({\r\n            searchField: null, searchType: null, searchText: '', format: '', orderBy: '', offset: 0,\r\n            fields: [], conditions: []\r\n        });\r\n    };\r\n    Content.prototype.getAutoQueryUrl = function (format) {\r\n        var firstRoute = (this.props.selected.operation.routes || []).filter(function (x) { return x.path.indexOf('{') === -1; })[0];\r\n        var path = firstRoute\r\n            ? firstRoute.path\r\n            : \"/\" + (format || 'html') + \"/reply/\" + this.props.selected.requestType.name;\r\n        var url = servicestack_client_1.combinePaths(this.props.config.servicebaseurl, path);\r\n        if (firstRoute && format)\r\n            url += \".\" + format;\r\n        this.getArgs().forEach(function (arg) {\r\n            return url = servicestack_client_1.createUrl(url, arg);\r\n        });\r\n        if (this.props.values.offset)\r\n            url = servicestack_client_1.createUrl(url, { skip: this.props.values.offset });\r\n        if (this.props.values.orderBy)\r\n            url = servicestack_client_1.createUrl(url, { orderBy: this.props.values.orderBy });\r\n        if ((this.props.values.fields || []).length > 0) {\r\n            url = servicestack_client_1.createUrl(url, { fields: this.props.values.fields.join(',') });\r\n            if (!format || format === 'html')\r\n                url = servicestack_client_1.createUrl(url, { jsconfig: 'edv' });\r\n        }\r\n        url = servicestack_client_1.createUrl(url, { include: \"Total\" });\r\n        url = url.replace(/%2C/g, \",\");\r\n        return url;\r\n    };\r\n    Content.prototype.isValidCondition = function () {\r\n        var _a = this.props.values, searchField = _a.searchField, searchType = _a.searchType, searchText = _a.searchText;\r\n        return searchField && searchType && searchText\r\n            && (searchType.toLowerCase() !== 'between' || (searchText.indexOf(',') > 0 && searchText.indexOf(',') < searchText.length - 1));\r\n    };\r\n    Content.prototype.isDirty = function () {\r\n        return this.isValidCondition()\r\n            || this.props.values.format\r\n            || this.props.values.offset\r\n            || (this.props.values.fields || []).length > 0\r\n            || this.props.values.orderBy\r\n            || (this.props.values.conditions || []).length > 0;\r\n    };\r\n    Content.prototype.getArgs = function () {\r\n        var _this = this;\r\n        var args = [];\r\n        var conditions = (this.props.values.conditions || []).slice(0);\r\n        if (this.isValidCondition()) {\r\n            conditions.push(this.props.values);\r\n        }\r\n        conditions.forEach(function (condition) {\r\n            var searchField = condition.searchField, searchType = condition.searchType, searchText = condition.searchText;\r\n            var convention = _this.props.conventions.filter(function (c) { return c.name === searchType; })[0];\r\n            if (convention) {\r\n                var field = convention.value.replace(\"%\", searchField);\r\n                args.push((_a = {}, _a[field] = searchText, _a));\r\n            }\r\n            var _a;\r\n        });\r\n        return args;\r\n    };\r\n    Content.prototype.getSearchField = function (name) {\r\n        return this.props.selected.fromTypeFields.filter(function (f) { return f.name === name; })[0];\r\n    };\r\n    Content.prototype.isIntField = function (f) {\r\n        return f && (f.type || '').toLowerCase().startsWith('int');\r\n    };\r\n    Content.prototype.matchesConvention = function (convention, fieldType) {\r\n        return !convention || !convention.types || !fieldType ||\r\n            convention.types.replace(/ /g, '').toLowerCase().split(',').indexOf(fieldType.toLowerCase()) >= 0;\r\n    };\r\n    Content.prototype.getConventions = function () {\r\n        var _this = this;\r\n        var values = this.props.values;\r\n        if (values && values.searchField) {\r\n            var f_1 = this.getSearchField(values.searchField);\r\n            if (f_1) {\r\n                return this.props.conventions.filter(function (c) { return _this.matchesConvention(c, f_1.type); });\r\n            }\r\n        }\r\n        return this.props.conventions;\r\n    };\r\n    Content.prototype.renderResults = function (response) {\r\n        var _this = this;\r\n        var fieldNames = null, fieldWidths = null;\r\n        var fieldDefs = (this.props.viewerArgs[\"DefaultFields\"] || \"\")\r\n            .split(',')\r\n            .filter(function (x) { return x.trim().length > 0; });\r\n        if (fieldDefs.length > 0) {\r\n            fieldNames = [], fieldWidths = {};\r\n            fieldDefs.forEach(function (x) {\r\n                var parts = servicestack_client_1.splitOnFirst(x, ':');\r\n                fieldNames.push(parts[0]);\r\n                if (parts.length > 1)\r\n                    fieldWidths[parts[0]] = parts[1];\r\n            });\r\n        }\r\n        var offset = response.offset, results = response.results, total = response.total, maxLimit = this.props.config.maxlimit;\r\n        var Control = function (name, enable, offset) { return enable\r\n            ? React.createElement(\"i\", { className: \"material-icons\", style: { cursor: 'pointer' }, onClick: function (e) { return _this.props.onChange({ offset: offset }); } }, name)\r\n            : React.createElement(\"i\", { className: \"material-icons\", style: { color: '#ccc' } }, name); };\r\n        var Paging = (React.createElement(\"span\", { className: \"paging\", style: { padding: '0 10px 0 0' } },\r\n            Control(\"skip_previous\", offset > 0, 0),\r\n            Control(\"chevron_left\", offset > 0, Math.max(offset - maxLimit, 0)),\r\n            Control(\"chevron_right\", offset + maxLimit < total, offset + maxLimit),\r\n            Control(\"skip_next\", offset + maxLimit < total, Math.floor((total - 1) / maxLimit) * maxLimit)));\r\n        return response.results.length === 0\r\n            ? React.createElement(\"div\", { className: \"results-none\" }, \"There were no results\")\r\n            : (React.createElement(\"div\", null,\r\n                React.createElement(\"div\", { className: \"noselect\", style: { color: '#757575', padding: '15px 0' } },\r\n                    Paging,\r\n                    React.createElement(\"span\", null,\r\n                        \"Showing Results \",\r\n                        offset + 1,\r\n                        \" - \",\r\n                        offset + results.length,\r\n                        \" of \",\r\n                        total),\r\n                    React.createElement(\"i\", { className: \"material-icons\", title: \"show/hide columns\", onClick: function (e) { return _this.props.onShowDialog('column-prefs-dialog'); }, style: {\r\n                            verticalAlign: 'text-bottom', margin: '0 0 0 10px', cursor: 'pointer', fontSize: '20px'\r\n                        } }, \"view_list\")),\r\n                React.createElement(Results_1.default, { results: response.results, fieldNames: fieldNames, fieldWidths: fieldWidths, selected: this.props.selected, values: this.props.values, onOrderByChange: function (orderBy) { return _this.props.onChange({ orderBy: orderBy }); } })));\r\n    };\r\n    Content.prototype.renderBody = function (op, values) {\r\n        var _this = this;\r\n        var url = this.getAutoQueryUrl(this.props.values.format);\r\n        var name = this.props.selected.name;\r\n        var loadingNewQuery = this.state.url !== url;\r\n        if (loadingNewQuery) {\r\n            var newUrl = this.getAutoQueryUrl(\"json\");\r\n            newUrl = servicestack_client_1.createUrl(newUrl, { jsconfig: 'DateHandler:ISO8601DateOnly,TimeSpanHandler:StandardFormat' });\r\n            shared_1.client.get(newUrl)\r\n                .then(function (r) {\r\n                var response = shared_1.normalize(r);\r\n                response.url = url;\r\n                _this.setState({ url: url, name: name, response: response, error: null });\r\n            })\r\n                .catch(function (r) {\r\n                var status = r.responseStatus;\r\n                _this.setState({ url: url, name: name, response: null, error: status.errorCode + \": \" + status.message });\r\n            });\r\n        }\r\n        var queries = (this.props.values.queries || []);\r\n        return (React.createElement(\"div\", null,\r\n            React.createElement(\"div\", { id: \"query-title\" }, this.props.viewerArgs[\"Description\"]),\r\n            React.createElement(\"div\", { id: \"url\", style: { padding: '0 0 10px 0', whiteSpace: 'nowrap' } },\r\n                React.createElement(\"a\", { href: url, target: \"_blank\" }, url),\r\n                !this.isDirty() ? null : (React.createElement(\"i\", { className: \"material-icons noselect\", title: \"reset query\", onClick: function (e) { return _this.clear(); }, style: {\r\n                        padding: '0 0 0 5px', color: '#757575', fontSize: '16px', verticalAlign: 'bottom', cursor: 'pointer'\r\n                    } }, \"clear\"))),\r\n            React.createElement(\"select\", { value: values.searchField, onChange: function (e) { return _this.selectField(e); } },\r\n                React.createElement(\"option\", null),\r\n                op.fromTypeFields.map(function (f) { return React.createElement(\"option\", { key: f.name }, f.name); })),\r\n            React.createElement(\"select\", { value: values.searchType, onChange: function (e) { return _this.selectOperand(e); } },\r\n                React.createElement(\"option\", null),\r\n                this.getConventions().map(function (c) { return React.createElement(\"option\", { key: c.name }, c.name); })),\r\n            React.createElement(\"input\", { type: \"text\", id: \"txtSearch\", value: values.searchText, autoComplete: \"off\", onChange: function (e) { return _this.changeText(e); }, onKeyDown: function (e) { return e.keyCode === 13 ? _this.props.onAddCondition() : null; } }),\r\n            this.isValidCondition()\r\n                ? (React.createElement(\"i\", { className: \"material-icons\", style: { fontSize: '30px', verticalAlign: 'bottom', color: '#00C853', cursor: 'pointer' }, onClick: function (e) { return _this.props.onAddCondition(); }, title: \"Add condition\" }, \"add_circle\"))\r\n                : (React.createElement(\"i\", { className: \"material-icons\", style: { fontSize: '30px', verticalAlign: 'bottom', color: '#ccc' }, title: \"Incomplete condition\" }, \"add_circle\")),\r\n            !this.props.config.formats || this.props.config.formats.length === 0 ? null : (React.createElement(\"span\", { className: \"formats noselect\" }, this.props.config.formats.map(function (f) {\r\n                return React.createElement(\"span\", { key: f, className: values.format === f ? 'active' : '', onClick: function (e) { return _this.selectFormat(f); } }, f);\r\n            }))),\r\n            this.props.values.conditions.length + queries.length > 0 ?\r\n                (React.createElement(\"div\", null,\r\n                    React.createElement(\"div\", { className: \"conditions\" }, this.props.values.conditions.map(function (c) { return (React.createElement(\"div\", { key: c.id },\r\n                        React.createElement(\"i\", { className: \"material-icons\", style: { color: '#db4437', cursor: 'pointer', padding: '0 5px 0 0' }, title: \"remove condition\", onClick: function (e) { return _this.props.onRemoveCondition(c); } }, \"remove_circle\"),\r\n                        c.searchField,\r\n                        \" \",\r\n                        c.searchType,\r\n                        \" \",\r\n                        c.searchText)); })),\r\n                    this.props.values.conditions.length > 0\r\n                        ? (React.createElement(\"div\", { style: { display: 'inline-block', verticalAlign: 'top', padding: 10 } },\r\n                            React.createElement(\"i\", { title: \"Save Query\", className: \"material-icons\", style: { fontSize: '24px', color: '#444', cursor: 'pointer' }, onClick: function (e) { return _this.props.onSaveQuery(); } }, \"save\")))\r\n                        : null,\r\n                    React.createElement(\"div\", { className: \"queries\" }, queries.map(function (x) { return (React.createElement(\"div\", null,\r\n                        React.createElement(\"i\", { className: \"material-icons\", style: { color: '#db4437', cursor: 'pointer', padding: '0 5px 0 0' }, title: \"remove query\", onClick: function (e) { return _this.props.onRemoveQuery(x); } }, \"remove_circle\"),\r\n                        React.createElement(\"span\", { className: \"lnk\", title: \"load query\", onClick: function (e) { return _this.props.onLoadQuery(x); } }, x.name))); }))))\r\n                : null,\r\n            this.state.response\r\n                ? (!loadingNewQuery || name === this.state.name\r\n                    ? this.renderResults(this.state.response)\r\n                    : (React.createElement(\"div\", { style: { color: '#757575', padding: '20px 0 0 0' } },\r\n                        React.createElement(\"i\", { className: \"material-icons spin\", style: { fontSize: '20px', verticalAlign: 'text-bottom' } }, \"cached\"),\r\n                        React.createElement(\"span\", { style: { padding: '0 0 0 5px' } }, \"loading results...\"))))\r\n                : this.state.error\r\n                    ? React.createElement(\"div\", { style: { color: '#db4437', padding: 5 } }, this.state.error)\r\n                    : null));\r\n    };\r\n    Content.prototype.render = function () {\r\n        var isMsEdge = /Edge/.test(navigator.userAgent);\r\n        return (React.createElement(\"div\", { id: \"content\" },\r\n            React.createElement(\"div\", { className: \"inner\" },\r\n                React.createElement(\"table\", null,\r\n                    React.createElement(\"tbody\", null,\r\n                        React.createElement(\"tr\", null,\r\n                            isMsEdge ? React.createElement(\"td\", { style: { minWidth: '20px' } }) : null,\r\n                            React.createElement(\"td\", null, this.props.selected\r\n                                ? this.renderBody(this.props.selected, this.props.values)\r\n                                : (React.createElement(\"div\", { style: { padding: '15px 0', fontSize: '20px', color: '#757575' } },\r\n                                    React.createElement(\"i\", { className: \"material-icons\", style: { verticalAlign: 'bottom', margin: '0 10px 0 0' } }, \"arrow_back\"),\r\n                                    this.props.userinfo.querycount > 0\r\n                                        ? \"Please Select a Query\"\r\n                                        : this.props.userinfo.isauthenticated\r\n                                            ? \"There are no queries available\"\r\n                                            : \"Please Sign In to see your available queries\"))),\r\n                            !isMsEdge ? React.createElement(\"td\", { style: { minWidth: '20px' } }) : null))))));\r\n    };\r\n    return Content;\r\n}(React.Component));\r\nexports.default = Content;\r\n\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(5);\r\nvar Header = (function (_super) {\r\n    __extends(Header, _super);\r\n    function Header() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Header.prototype.render = function () {\r\n        var _this = this;\r\n        return (React.createElement(\"div\", { id: \"header\", style: { margin: 'auto', display: 'flex', flexDirection: 'row' } },\r\n            React.createElement(\"i\", { className: \"material-icons\", style: { cursor: 'pointer' }, onClick: function (e) { return _this.props.onSidebarToggle(); } }, \"menu\"),\r\n            React.createElement(\"h1\", null, \"AutoQuery\"),\r\n            this.props.title == null ? React.createElement(\"div\", { style: { flex: 1 } }) : (React.createElement(\"div\", { id: \"header-content\", style: { display: 'flex', flex: 1 } },\r\n                React.createElement(\"div\", null,\r\n                    React.createElement(\"div\", { className: \"seperator\" })),\r\n                React.createElement(\"h2\", null, this.props.title),\r\n                React.createElement(\"div\", { style: { margin: 'auto', flex: 1 } })))));\r\n    };\r\n    return Header;\r\n}(React.Component));\r\nexports.default = Header;\r\n\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(5);\r\nvar shared_1 = __webpack_require__(22);\r\nvar servicestack_client_1 = __webpack_require__(21);\r\nvar Results = (function (_super) {\r\n    __extends(Results, _super);\r\n    function Results() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Results.prototype.renderValue = function (o) {\r\n        return Array.isArray(o)\r\n            ? o.join(', ')\r\n            : typeof o == \"undefined\"\r\n                ? \"\"\r\n                : typeof o == \"object\"\r\n                    ? JSON.stringify(o)\r\n                    : o + \"\";\r\n    };\r\n    Results.prototype.formatString = function (s) {\r\n        if (s) {\r\n            if (s.startsWith(\"http\"))\r\n                return React.createElement(\"a\", { href: s, target: \"_blank\" }, s.substring(s.indexOf('://') + 3));\r\n            if (s.toLowerCase() === \"false\")\r\n                return React.createElement(\"i\", { className: \"material-icons\", style: { color: '#757575', fontSize: '14px' } }, \"check_box_outline_blank\");\r\n            if (s.toLowerCase() === \"true\")\r\n                return React.createElement(\"i\", { className: \"material-icons\", style: { color: '#66BB6A', fontSize: '14px' } }, \"check_box\");\r\n        }\r\n        return React.createElement(\"span\", null, s);\r\n    };\r\n    Results.prototype.render = function () {\r\n        var _this = this;\r\n        var Results = React.createElement(\"div\", { className: \"results-none\" }, \"There were no results\");\r\n        var results = this.props.results;\r\n        if (results && results.length > 0) {\r\n            var fieldNames = this.props.values.fields || [];\r\n            if (fieldNames.length === 0) {\r\n                fieldNames = this.props.fieldNames ||\r\n                    this.props.selected.toTypeFields.map(function (x) { return x.name; });\r\n            }\r\n            var fieldWidths = this.props.fieldWidths || {};\r\n            var orderBy = (this.props.values.orderBy || '');\r\n            var orderByName = orderBy.startsWith('-') ? orderBy.substr(1) : orderBy;\r\n            Results = (React.createElement(\"table\", { className: \"results\" },\r\n                React.createElement(\"thead\", null,\r\n                    React.createElement(\"tr\", { className: \"noselect\" }, fieldNames.map(function (f) { return (React.createElement(\"th\", { key: f, style: { cursor: 'pointer' }, onClick: function (e) { return _this.props.onOrderByChange(f !== orderByName ? '-' + f : !orderBy.startsWith('-') ? '' : orderByName); } },\r\n                        servicestack_client_1.humanize(f),\r\n                        f !== orderByName ? null :\r\n                            React.createElement(\"i\", { className: \"material-icons\", style: { fontSize: '18px', verticalAlign: 'bottom' } }, orderBy.startsWith('-') ? \"arrow_drop_down\" : \"arrow_drop_up\"))); }))),\r\n                React.createElement(\"tbody\", null, results.map(function (r, i) { return (React.createElement(\"tr\", { key: i }, fieldNames.map(function (f, j) { return (React.createElement(\"td\", { key: j, title: _this.renderValue(shared_1.getField(r, f)), style: shared_1.getField(fieldWidths, f) ? { maxWidth: parseInt(shared_1.getField(fieldWidths, f)) } : {} }, _this.formatString(_this.renderValue(shared_1.getField(r, f))))); }))); }))));\r\n        }\r\n        return Results;\r\n    };\r\n    return Results;\r\n}(React.Component));\r\nexports.default = Results;\r\n\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(5);\r\nvar react_router_dom_1 = __webpack_require__(36);\r\nvar servicestack_client_1 = __webpack_require__(21);\r\nvar shared_1 = __webpack_require__(22);\r\nvar Sidebar = (function (_super) {\r\n    __extends(Sidebar, _super);\r\n    function Sidebar(props, context) {\r\n        var _this = _super.call(this, props, context) || this;\r\n        _this.state = { filter: undefined };\r\n        return _this;\r\n    }\r\n    Sidebar.prototype.handleFilter = function (e) {\r\n        this.setState({ filter: e.target.value.toLowerCase() });\r\n    };\r\n    Sidebar.prototype.renderIcon = function (name) {\r\n        var iconUrl = this.props.viewerArgs[name][\"IconUrl\"];\r\n        if (iconUrl) {\r\n            if (iconUrl.startsWith('material-icons:'))\r\n                return (React.createElement(\"i\", { className: \"material-icons\" }, servicestack_client_1.splitOnFirst(iconUrl, ':')[1]));\r\n            if (iconUrl.startsWith('octicon:'))\r\n                return (React.createElement(\"span\", { className: \"mega-octicon octicon-\" + servicestack_client_1.splitOnFirst(iconUrl, ':')[1] }));\r\n            return (React.createElement(\"img\", { src: iconUrl }));\r\n        }\r\n        return (React.createElement(\"i\", { className: \"material-icons\" }, \"search\"));\r\n    };\r\n    Sidebar.prototype.render = function () {\r\n        var _this = this;\r\n        return (React.createElement(\"div\", { id: \"sidebar\" },\r\n            React.createElement(\"div\", { className: \"inner\" },\r\n                React.createElement(\"div\", { id: \"aq-filter\" },\r\n                    React.createElement(\"input\", { type: \"text\", placeholder: \"filter\", style: { margin: \"10px 15px\" }, onChange: function (e) { return _this.handleFilter(e); }, value: this.state.filter })),\r\n                React.createElement(\"div\", { id: \"aq-list\" }, Object.keys(this.props.operations)\r\n                    .filter(function (op) { return _this.state.filter == null || op.toLowerCase().indexOf(_this.state.filter) >= 0; })\r\n                    .map(function (op, i) { return (React.createElement(\"div\", { key: i, className: \"aq-item\" + (op === _this.props.name ? \" active\" : \"\") },\r\n                    _this.renderIcon(op),\r\n                    React.createElement(react_router_dom_1.Link, { to: shared_1.BasePath + \"ss_admin/autoquery/\" + op }, _this.props.viewerArgs[op][\"Name\"] || op))); })))));\r\n    };\r\n    return Sidebar;\r\n}(React.Component));\r\nexports.default = Sidebar;\r\n\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 22:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar servicestack_client_1 = __webpack_require__(21);\r\nexports.BasePath = location.pathname.substring(0, location.pathname.indexOf(\"/ss_admin\") + 1);\r\nexports.client = new servicestack_client_1.JsonServiceClient(global.BaseUrl || exports.BasePath);\r\nexports.normalizeKey = function (key) { return key.toLowerCase().replace(/_/g, ''); };\r\nvar isArray = function (o) { return Object.prototype.toString.call(o) === '[object Array]'; };\r\nvar log = function (o) { console.log(o, typeof (o)); return o; };\r\nexports.normalize = function (dto, deep) {\r\n    if (dto == null)\r\n        return dto;\r\n    if (isArray(dto)) {\r\n        if (!deep)\r\n            return dto;\r\n        var to = [];\r\n        for (var i = 0; i < dto.length; i++) {\r\n            to[i] = exports.normalize(dto[i], deep);\r\n        }\r\n        return to;\r\n    }\r\n    if (typeof dto != \"object\")\r\n        return dto;\r\n    var o = {};\r\n    for (var k in dto) {\r\n        o[exports.normalizeKey(k)] = deep ? exports.normalize(dto[k], deep) : dto[k];\r\n    }\r\n    return o;\r\n};\r\nexports.getField = function (o, name) {\r\n    return o == null || name == null ? null :\r\n        o[name] ||\r\n            o[Object.keys(o).filter(function (k) { return exports.normalizeKey(k) === exports.normalizeKey(name); })[0] || ''];\r\n};\r\nexports.parseResponseStatus = function (json, defaultMsg) {\r\n    if (defaultMsg === void 0) { defaultMsg = null; }\r\n    try {\r\n        var err = JSON.parse(json);\r\n        return servicestack_client_1.sanitize(err.ResponseStatus || err.responseStatus);\r\n    }\r\n    catch (e) {\r\n        return {\r\n            message: defaultMsg,\r\n            __error: { error: e, json: json }\r\n        };\r\n    }\r\n};\r\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(59)))\n\n/***/ }),\n\n/***/ 230:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(95);\n\n\n/***/ }),\n\n/***/ 95:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__webpack_require__(105);\r\n__webpack_require__(106);\r\n__webpack_require__(104);\r\nvar React = __webpack_require__(5);\r\nvar react_dom_1 = __webpack_require__(60);\r\nvar react_router_1 = __webpack_require__(7);\r\nvar react_router_dom_1 = __webpack_require__(36);\r\nvar shared_1 = __webpack_require__(22);\r\nvar AutoQuery_1 = __webpack_require__(98);\r\nvar AdminApp = (function (_super) {\r\n    __extends(AdminApp, _super);\r\n    function AdminApp() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    AdminApp.prototype.render = function () {\r\n        return React.createElement(AutoQuery_1.default, { match: { params: { name: \"\" } } });\r\n    };\r\n    return AdminApp;\r\n}(React.Component));\r\nvar AppPath = shared_1.BasePath + \"ss_admin\";\r\nvar AutoQueryPath = AppPath + \"/autoquery\";\r\nreact_dom_1.render((React.createElement(react_router_dom_1.BrowserRouter, null,\r\n    React.createElement(\"div\", null,\r\n        React.createElement(react_router_dom_1.Route, { exact: true, path: AppPath, render: function () {\r\n                return React.createElement(react_router_1.Redirect, { from: AppPath, to: AutoQueryPath });\r\n            } }),\r\n        React.createElement(react_router_dom_1.Route, { exact: true, path: AutoQueryPath, component: AutoQuery_1.default }),\r\n        React.createElement(react_router_dom_1.Route, { path: AutoQueryPath + \"/:name\", component: AutoQuery_1.default })))), document.getElementById('app'));\r\n\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(5);\r\nvar Header_1 = __webpack_require__(101);\r\nvar Sidebar_1 = __webpack_require__(103);\r\nvar Content_1 = __webpack_require__(100);\r\nvar ColumnPrefsDialog_1 = __webpack_require__(99);\r\nvar shared_1 = __webpack_require__(22);\r\nvar AutoQuery = (function (_super) {\r\n    __extends(AutoQuery, _super);\r\n    function AutoQuery(props, context) {\r\n        var _this = _super.call(this, props, context) || this;\r\n        _this.state = { metadata: null };\r\n        shared_1.client.get(\"/autoquery/metadata\").then(function (r) {\r\n            var metadata = shared_1.normalize(r, true);\r\n            _this.setState({ metadata: metadata, name: _this.getName() });\r\n        });\r\n        return _this;\r\n    }\r\n    AutoQuery.prototype.render = function () {\r\n        return this.state.metadata\r\n            ? React.createElement(App, { metadata: this.state.metadata, name: this.getName() })\r\n            : null;\r\n    };\r\n    AutoQuery.prototype.getName = function () {\r\n        return this.props.match.params.name || \"\";\r\n    };\r\n    return AutoQuery;\r\n}(React.Component));\r\nexports.default = AutoQuery;\r\nvar App = (function (_super) {\r\n    __extends(App, _super);\r\n    function App(props, context) {\r\n        var _this = _super.call(this, props, context) || this;\r\n        var operationNames = _this.props.metadata.operations.map(function (op) { return op.request; });\r\n        var viewerArgs = {}, operations = {}, types = {};\r\n        operationNames.forEach(function (name) {\r\n            viewerArgs[name] = {};\r\n            var aqViewer = _this.getAutoQueryViewer(name);\r\n            if (aqViewer && aqViewer.args) {\r\n                aqViewer.args.forEach(function (arg) { return viewerArgs[name][arg.name] = arg.value; });\r\n            }\r\n            operations[name] = _this.props.metadata.operations.filter(function (op) { return op.request === name; })[0];\r\n        });\r\n        console.log(_this.props.metadata);\r\n        _this.props.metadata.types.forEach(function (t) { return types[t.name] = t; });\r\n        var operationState = {};\r\n        var json = localStorage.getItem(\"v1/operationState\");\r\n        if (json)\r\n            operationState = JSON.parse(json);\r\n        _this.state = {\r\n            sidebarHidden: false, selected: null,\r\n            operationState: operationState, operationNames: operationNames, viewerArgs: viewerArgs, operations: operations, types: types\r\n        };\r\n        return _this;\r\n    }\r\n    App.prototype.resolveProperties = function (type) {\r\n        var props = (type.properties || []).slice(0);\r\n        var inherits = type.inherits;\r\n        while (inherits) {\r\n            var t = this.state.types[inherits.name];\r\n            if (!t || !t.properties)\r\n                continue;\r\n            t.properties.forEach(function (p) { return props.push(p); });\r\n            inherits = t.inherits;\r\n        }\r\n        return props;\r\n    };\r\n    App.prototype.toggleSidebar = function () {\r\n        this.setState({ sidebarHidden: !this.state.sidebarHidden });\r\n    };\r\n    App.prototype.getType = function (name) {\r\n        return this.props.metadata.types.filter(function (op) { return op.name === name; })[0];\r\n    };\r\n    App.prototype.getAutoQueryViewer = function (name) {\r\n        var type = this.getType(name);\r\n        return type != null && type.attributes != null\r\n            ? type.attributes.filter(function (attr) { return attr.name === \"AutoQueryViewer\"; })[0]\r\n            : null;\r\n    };\r\n    App.prototype.getAutoQueryViewerArgValue = function (name, argName) {\r\n        var aqViewer = this.getAutoQueryViewer(name);\r\n        var arg = aqViewer\r\n            ? aqViewer.args.filter(function (x) { return x.name === argName; })[0]\r\n            : null;\r\n        return arg != null\r\n            ? arg.value\r\n            : null;\r\n    };\r\n    App.prototype.getTitle = function (selected) {\r\n        return selected\r\n            ? this.getAutoQueryViewerArgValue(selected.name, 'Title') || selected.name\r\n            : null;\r\n    };\r\n    App.prototype.getOperationValues = function (name) {\r\n        var viewerArgs = this.state.viewerArgs[name] || {};\r\n        return Object.assign({\r\n            searchField: viewerArgs[\"DefaultSearchField\"] || \"\",\r\n            searchType: viewerArgs[\"DefaultSearchType\"] || \"\",\r\n            searchText: viewerArgs[\"DefaultSearchText\"],\r\n            conditions: [],\r\n            queries: []\r\n        }, this.state.operationState[name] || {});\r\n    };\r\n    App.prototype.getSelected = function (name) {\r\n        var operation = this.state.operations[name];\r\n        if (operation == null)\r\n            return null;\r\n        var requestType = this.state.types[name];\r\n        var fromType = this.state.types[operation.from];\r\n        var toType = this.state.types[operation.to];\r\n        return {\r\n            name: name, operation: operation, requestType: requestType,\r\n            fromType: fromType, fromTypeFields: this.resolveProperties(toType),\r\n            toType: toType, toTypeFields: this.resolveProperties(toType)\r\n        };\r\n    };\r\n    App.prototype.onOperationChange = function (opName, newValues) {\r\n        var op = this.getOperationValues(opName);\r\n        Object.keys(newValues).forEach(function (k) {\r\n            if (newValues[k] != null)\r\n                op[k] = newValues[k];\r\n        });\r\n        this.setOperationValues(opName, op);\r\n    };\r\n    App.prototype.addCondition = function (opName) {\r\n        var op = this.getOperationValues(opName);\r\n        var condition = {\r\n            id: op.searchField + \"|\" + op.searchType + \"|\" + op.searchText,\r\n            searchField: op.searchField,\r\n            searchType: op.searchType,\r\n            searchText: op.searchText\r\n        };\r\n        if (op.conditions.some(function (x) { return x.id === condition.id; }))\r\n            return;\r\n        op.searchText = \"\";\r\n        op.conditions.push(condition);\r\n        this.setOperationValues(opName, op);\r\n    };\r\n    App.prototype.removeCondition = function (opName, condition) {\r\n        var op = this.getOperationValues(opName);\r\n        op.conditions = op.conditions.filter(function (x) { return x.id !== condition.id; });\r\n        this.setOperationValues(opName, op);\r\n    };\r\n    App.prototype.setOperationValues = function (opName, op) {\r\n        var operationState = Object.assign({}, this.state.operationState);\r\n        operationState[opName] = op;\r\n        this.setState({ operationState: operationState });\r\n        localStorage.setItem(\"v1/operationState\", JSON.stringify(operationState));\r\n    };\r\n    App.prototype.showDialog = function (dialog) {\r\n        this.setState({ dialog: dialog });\r\n        setTimeout(function () { return document.getElementById(dialog).classList.toggle('active'); }, 0);\r\n    };\r\n    App.prototype.hideDialog = function () {\r\n        this.setState({ dialog: null });\r\n    };\r\n    App.prototype.saveQuery = function (opName) {\r\n        var name = prompt(\"Save Query as:\", \"My Query\");\r\n        if (!name)\r\n            return;\r\n        var op = this.getOperationValues(opName);\r\n        if (!op.queries) {\r\n            op.queries = [];\r\n        }\r\n        op.queries.push({\r\n            name: name,\r\n            searchField: op.searchField,\r\n            searchType: op.searchType,\r\n            searchText: op.searchText,\r\n            conditions: op.conditions.map(function (x) { return Object.assign({}, x); })\r\n        });\r\n        this.setOperationValues(opName, op);\r\n    };\r\n    App.prototype.removeQuery = function (opName, query) {\r\n        var op = this.getOperationValues(opName);\r\n        if (!op.queries)\r\n            return;\r\n        op.queries = op.queries.filter(function (x) { return x.name != query.name; });\r\n        this.setOperationValues(opName, op);\r\n    };\r\n    App.prototype.loadQuery = function (opName, query) {\r\n        var op = this.getOperationValues(opName);\r\n        op.searchField = query.searchField;\r\n        op.searchType = query.searchType;\r\n        op.searchText = query.searchText;\r\n        op.conditions = query.conditions;\r\n        this.setOperationValues(opName, op);\r\n    };\r\n    App.prototype.render = function () {\r\n        var _this = this;\r\n        var selected = this.getSelected(this.props.name);\r\n        var opName = selected && selected.name;\r\n        return (React.createElement(\"div\", { style: { height: '100%' } },\r\n            React.createElement(Header_1.default, { title: this.getTitle(selected), onSidebarToggle: function (e) { return _this.toggleSidebar(); } }),\r\n            React.createElement(\"div\", { id: \"body\", className: this.state.sidebarHidden ? 'hide-sidebar' : '' },\r\n                React.createElement(\"div\", { className: \"inner\" },\r\n                    React.createElement(Sidebar_1.default, { name: opName, viewerArgs: this.state.viewerArgs, operations: this.state.operations }),\r\n                    React.createElement(Content_1.default, { config: this.props.metadata.config, userinfo: this.props.metadata.userinfo, selected: selected, values: this.getOperationValues(this.props.name), conventions: this.props.metadata.config.implicitconventions, viewerArgs: this.state.viewerArgs[opName], onChange: function (args) { return _this.onOperationChange(opName, args); }, onAddCondition: function (e) { return _this.addCondition(opName); }, onRemoveCondition: function (c) { return _this.removeCondition(opName, c); }, onShowDialog: function (id) { return _this.showDialog(id); }, onSaveQuery: function () { return _this.saveQuery(opName); }, onRemoveQuery: function (x) { return _this.removeQuery(opName, x); }, onLoadQuery: function (x) { return _this.loadQuery(opName, x); } }))),\r\n            this.state.dialog !== \"column-prefs-dialog\" ? null : (React.createElement(ColumnPrefsDialog_1.default, { onClose: function (e) { return _this.hideDialog(); }, fields: selected.toTypeFields, values: this.getOperationValues(this.props.name), onChange: function (args) { return _this.onOperationChange(opName, args); } }))));\r\n    };\r\n    return App;\r\n}(React.Component));\r\n\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(5);\r\nvar ColumnPrefsDialog = (function (_super) {\r\n    __extends(ColumnPrefsDialog, _super);\r\n    function ColumnPrefsDialog(props, context) {\r\n        var _this = _super.call(this, props, context) || this;\r\n        _this.state = {};\r\n        return _this;\r\n    }\r\n    ColumnPrefsDialog.prototype.resetFields = function () {\r\n        var fields = [];\r\n        this.props.onChange({ fields: fields });\r\n    };\r\n    ColumnPrefsDialog.prototype.selectField = function (field) {\r\n        var fields = (this.props.values.fields || []);\r\n        if (fields.indexOf(field) >= 0)\r\n            fields = fields.filter(function (x) { return x !== field; });\r\n        else\r\n            fields.push(field);\r\n        this.props.onChange({ fields: fields });\r\n    };\r\n    ColumnPrefsDialog.prototype.render = function () {\r\n        var _this = this;\r\n        var fields = (this.props.values.fields || []);\r\n        var CheckboxStyle = {\r\n            verticalAlign: 'text-bottom', fontSize: '20px', margin: '0 5px 0 0'\r\n        };\r\n        return (React.createElement(\"div\", { id: \"column-prefs-dialog\" },\r\n            React.createElement(\"div\", { className: \"dialog-wrapper\", onClick: function (e) { return _this.props.onClose(); } },\r\n                React.createElement(\"div\", { className: \"dialog\", onClick: function (e) { return e.stopPropagation(); } },\r\n                    React.createElement(\"div\", { className: \"dialog-header\" },\r\n                        React.createElement(\"h3\", null, \"Column Preferences\")),\r\n                    React.createElement(\"div\", { className: \"dialog-body\" },\r\n                        React.createElement(\"div\", { onClick: function (e) { return _this.resetFields(); }, style: {\r\n                                borderBottom: '1px solid #ccc', padding: '0 0 10px 0', margin: '0 0 15px 0', cursor: 'pointer'\r\n                            } },\r\n                            React.createElement(\"i\", { className: \"material-icons\", style: CheckboxStyle }, fields.length === 0 ? 'radio_button_checked' : 'radio_button_unchecked'),\r\n                            React.createElement(\"span\", null, \"Show all columns\")),\r\n                        this.props.fields.map(function (f) { return (React.createElement(\"div\", { onClick: function (e) { return _this.selectField(f.name); }, style: { margin: '0 0 5px 0', cursor: 'pointer' } },\r\n                            React.createElement(\"i\", { className: \"material-icons\", style: CheckboxStyle }, fields.indexOf(f.name) >= 0 ? 'check_box' : 'check_box_outline_blank'),\r\n                            React.createElement(\"span\", null, f.name))); })),\r\n                    React.createElement(\"div\", { className: \"dialog-footer\", style: { textAlign: 'right' } },\r\n                        React.createElement(\"div\", { className: \"btnText\", onClick: function (e) { return _this.props.onClose(); } },\r\n                            React.createElement(\"span\", null, \"DONE\")))))));\r\n    };\r\n    return ColumnPrefsDialog;\r\n}(React.Component));\r\nexports.default = ColumnPrefsDialog;\r\n\n\n/***/ })\n\n},[230]);\n\n\n// WEBPACK FOOTER //\n// app.bundle.js","import * as React from 'react';\r\nimport Results from './Results';\r\n\r\nimport { combinePaths, createUrl, splitOnFirst } from 'servicestack-client';\r\nimport { client, normalize, parseResponseStatus } from './shared';\r\n\r\nexport default class Content extends React.Component<any, any> {\r\n    constructor(props?, context?) {\r\n        super(props, context);\r\n        this.state = { results: null };\r\n    }\r\n\r\n    selectField(e) {\r\n        var searchField = e.target.options[e.target.selectedIndex].value,\r\n            searchType = this.props.values.searchType,\r\n            searchText = this.props.values.searchText;\r\n\r\n        const f = this.getSearchField(searchField);\r\n        if (this.isIntField(f)) {\r\n            if (isNaN(searchText))\r\n                searchText = '';\r\n            const convention = this.props.conventions.filter(c => c.name === searchType)[0];\r\n            if (!this.matchesConvention(convention, f.type))\r\n                searchType = '';\r\n        }\r\n\r\n        this.props.onChange({ searchField, searchType, searchText });\r\n    }\r\n\r\n    selectOperand(e) {\r\n        this.props.onChange({ searchType: e.target.options[e.target.selectedIndex].value });\r\n    }\r\n\r\n    changeText(e) {\r\n        this.props.onChange({ searchText: e.target.value});\r\n    }\r\n\r\n    selectFormat(format) {\r\n        if (format === this.props.values.format) //toggle\r\n            format = \"\";\r\n\r\n        this.props.onChange({ format });\r\n    }\r\n\r\n    clear() {\r\n        this.props.onChange({\r\n            searchField: null, searchType: null, searchText: '', format: '', orderBy: '', offset: 0,\r\n            fields: [], conditions: []\r\n        });\r\n    }\r\n\r\n    getAutoQueryUrl(format:string) {\r\n        const firstRoute = (this.props.selected.operation.routes || []).filter(x => x.path.indexOf('{') === -1)[0];\r\n\r\n        const path = firstRoute\r\n            ? firstRoute.path\r\n            : `/${format || 'html'}/reply/` + this.props.selected.requestType.name;\r\n\r\n        let url = combinePaths(this.props.config.servicebaseurl, path);\r\n\r\n        if (firstRoute && format)\r\n            url += \".\" + format;\r\n\r\n        this.getArgs().forEach(arg =>\r\n            url = createUrl(url, arg));\r\n\r\n        if (this.props.values.offset)\r\n            url = createUrl(url, { skip: this.props.values.offset });\r\n\r\n        if (this.props.values.orderBy)\r\n            url = createUrl(url, { orderBy: this.props.values.orderBy });\r\n\r\n        if ((this.props.values.fields || []).length > 0) {\r\n            url = createUrl(url, { fields: this.props.values.fields.join(',') });\r\n\r\n            if (!format || format === 'html')\r\n                url = createUrl(url, { jsconfig: 'edv' });\r\n        }\r\n\r\n        url = createUrl(url, { include: \"Total\" });\r\n\r\n        url = url.replace(/%2C/g, \",\");\r\n\r\n        return url;\r\n    }\r\n\r\n    isValidCondition() {\r\n        const { searchField, searchType, searchText } = this.props.values;\r\n        return searchField && searchType && searchText\r\n            && (searchType.toLowerCase() !== 'between' || (searchText.indexOf(',') > 0 && searchText.indexOf(',') < searchText.length -1));\r\n    }\r\n\r\n    isDirty() {\r\n        return this.isValidCondition()\r\n            || this.props.values.format\r\n            || this.props.values.offset\r\n            || (this.props.values.fields || []).length > 0\r\n            || this.props.values.orderBy\r\n            || (this.props.values.conditions || []).length > 0;\r\n    }\r\n\r\n    getArgs() {\r\n        var args = [];\r\n        var conditions = (this.props.values.conditions || []).slice(0);\r\n        if (this.isValidCondition()) {\r\n            conditions.push(this.props.values);\r\n        }\r\n\r\n        conditions.forEach(condition => {\r\n            const { searchField, searchType, searchText } = condition;\r\n            var convention = this.props.conventions.filter(c => c.name === searchType)[0];\r\n            if (convention) {\r\n                const field = convention.value.replace(\"%\", searchField);\r\n                args.push({ [field]: searchText });\r\n            }\r\n        });\r\n\r\n        return args;\r\n    }\r\n\r\n    getSearchField(name: string) {\r\n        return this.props.selected.fromTypeFields.filter(f => f.name === name)[0];\r\n    }\r\n\r\n    isIntField(f) {\r\n        return f && (f.type || '').toLowerCase().startsWith('int');\r\n    }\r\n\r\n    matchesConvention(convention, fieldType) {\r\n        return !convention || !convention.types || !fieldType ||\r\n            convention.types.replace(/ /g, '').toLowerCase().split(',').indexOf(fieldType.toLowerCase()) >= 0;\r\n    }\r\n\r\n    getConventions() {\r\n        const values = this.props.values;\r\n        if (values && values.searchField) {\r\n            const f = this.getSearchField(values.searchField);\r\n            if (f) {\r\n                return this.props.conventions.filter(c => this.matchesConvention(c, f.type));\r\n            }\r\n        }\r\n        return this.props.conventions;\r\n    }\r\n\r\n    renderResults(response) {\r\n        var fieldNames = null, fieldWidths = null;\r\n        var fieldDefs = (this.props.viewerArgs[\"DefaultFields\"] || \"\")\r\n            .split(',')\r\n            .filter(x => x.trim().length > 0);\r\n\r\n        if (fieldDefs.length > 0) {\r\n            fieldNames = [], fieldWidths = {};\r\n            fieldDefs.forEach(x => {\r\n                var parts = splitOnFirst(x, ':');\r\n                fieldNames.push(parts[0]);\r\n                if (parts.length > 1)\r\n                    fieldWidths[parts[0]] = parts[1];\r\n            });\r\n        }\r\n\r\n        var { offset, results, total } = response, maxLimit = this.props.config.maxlimit;\r\n\r\n        const Control = (name, enable, offset) => enable\r\n            ? <i className=\"material-icons\" style={{ cursor: 'pointer' }} onClick={e => this.props.onChange({ offset })}>{name}</i>\r\n            : <i className=\"material-icons\" style={{ color: '#ccc' }}>{name}</i>;\r\n\r\n        var Paging = (\r\n            <span className=\"paging\" style={{padding:'0 10px 0 0'}}>\r\n                {Control(\"skip_previous\", offset > 0, 0) }\r\n                {Control(\"chevron_left\", offset > 0, Math.max(offset - maxLimit, 0)) }\r\n                {Control(\"chevron_right\", offset + maxLimit < total, offset + maxLimit) }\r\n                {Control(\"skip_next\", offset + maxLimit < total, Math.floor((total - 1) / maxLimit) * maxLimit)}\r\n            </span>\r\n        );\r\n\r\n        return response.results.length === 0\r\n            ? <div className=\"results-none\">There were no results</div>\r\n            : (\r\n                <div>\r\n                    <div className=\"noselect\" style={{ color: '#757575', padding: '15px 0' }}>\r\n                        {Paging}\r\n                        <span>\r\n                            Showing Results {offset + 1} - {offset + results.length} of {total}\r\n                        </span>\r\n\r\n                        <i className=\"material-icons\" title=\"show/hide columns\" onClick={e => this.props.onShowDialog('column-prefs-dialog')} style={{\r\n                            verticalAlign: 'text-bottom', margin: '0 0 0 10px', cursor: 'pointer', fontSize:'20px'\r\n                        }}>view_list</i>\r\n                    </div>\r\n\r\n                    <Results results={response.results} fieldNames={fieldNames} fieldWidths={fieldWidths}\r\n                        selected={this.props.selected}\r\n                        values={this.props.values}\r\n                        onOrderByChange={orderBy => this.props.onChange({ orderBy })} />\r\n                </div>\r\n            );\r\n    }\r\n\r\n    renderBody(op, values) {\r\n        const url = this.getAutoQueryUrl(this.props.values.format);\r\n        const name = this.props.selected.name;\r\n        const loadingNewQuery = this.state.url !== url;\r\n        if (loadingNewQuery) {\r\n            let newUrl = this.getAutoQueryUrl(\"json\");\r\n            newUrl = createUrl(newUrl, { jsconfig: 'DateHandler:ISO8601DateOnly,TimeSpanHandler:StandardFormat' });\r\n\r\n            client.get(newUrl)\r\n                .then(r => {\r\n                    var response = normalize(r);\r\n                    response.url = url;\r\n                    this.setState({ url, name, response, error:null });\r\n                })\r\n                .catch(r => {\r\n                    var status = r.responseStatus;\r\n                    this.setState({ url, name, response:null, error: `${status.errorCode}: ${status.message}` });\r\n                });\r\n        }\r\n\r\n        const queries = (this.props.values.queries || []);\r\n\r\n        return (\r\n            <div>\r\n                <div id=\"query-title\">\r\n                    {this.props.viewerArgs[\"Description\"] }\r\n                </div>\r\n                <div id=\"url\" style={{ padding: '0 0 10px 0', whiteSpace:'nowrap' }}>\r\n                    <a href={url} target=\"_blank\">{url}</a>\r\n                    {!  this.isDirty() ? null : (\r\n                        <i className=\"material-icons noselect\" title=\"reset query\" onClick={e => this.clear() } style={{\r\n                            padding: '0 0 0 5px', color: '#757575', fontSize: '16px', verticalAlign: 'bottom', cursor: 'pointer'\r\n                        }}>clear</i>\r\n                    )}\r\n                </div>\r\n\r\n                <select value={values.searchField} onChange={e => this.selectField(e) }>\r\n                    <option></option>\r\n                    {op.fromTypeFields.map(\r\n                        f => <option key={f.name}>{f.name}</option>) }\r\n                </select>\r\n                <select value={values.searchType} onChange={e => this.selectOperand(e) }>\r\n                    <option></option>\r\n                    {this.getConventions().map(\r\n                        c => <option key={c.name}>{c.name}</option>) }\r\n                </select>\r\n                <input type=\"text\" id=\"txtSearch\" value={values.searchText} autoComplete=\"off\"\r\n                    onChange={e => this.changeText(e) }\r\n                    onKeyDown={e => e.keyCode === 13 ? this.props.onAddCondition() : null} />\r\n\r\n                {this.isValidCondition()\r\n                    ? (<i className=\"material-icons\" style={{ fontSize: '30px', verticalAlign: 'bottom', color: '#00C853', cursor: 'pointer' }}\r\n                        onClick={e => this.props.onAddCondition() } title=\"Add condition\">add_circle</i>)\r\n                    : (<i className=\"material-icons\" style={{ fontSize: '30px', verticalAlign: 'bottom', color: '#ccc' }}\r\n                        title=\"Incomplete condition\">add_circle</i>)}\r\n\r\n                {!this.props.config.formats || this.props.config.formats.length === 0 ? null : (\r\n                    <span className=\"formats noselect\">\r\n                        {this.props.config.formats.map(f =>\r\n                            <span key={f} className={values.format === f ? 'active' : ''} onClick={e => this.selectFormat(f)}>{f}</span>) }\r\n                    </span>) }\r\n\r\n                {this.props.values.conditions.length + queries.length > 0 ?\r\n                    (<div>\r\n                        <div className=\"conditions\">\r\n                            {this.props.values.conditions.map(c => (\r\n                                <div key={c.id}>\r\n                                    <i className=\"material-icons\" style={{ color: '#db4437', cursor: 'pointer', padding: '0 5px 0 0' }}\r\n                                        title=\"remove condition\"\r\n                                        onClick={e => this.props.onRemoveCondition(c) }>remove_circle</i>\r\n                                    {c.searchField} {c.searchType} {c.searchText}\r\n                                </div>\r\n                            )) }\r\n                        </div>\r\n\r\n                        {this.props.values.conditions.length > 0\r\n                            ? (<div style={{ display: 'inline-block', verticalAlign: 'top', padding: 10 }}>\r\n                                   <i title=\"Save Query\" className=\"material-icons\" style={{ fontSize: '24px', color: '#444', cursor: 'pointer' }}\r\n                                      onClick={e => this.props.onSaveQuery() }>save</i>\r\n                               </div>)\r\n                            : null}\r\n                        \r\n                        <div className=\"queries\">\r\n                            {queries.map(x => (\r\n                                <div>\r\n                                    <i className=\"material-icons\" style={{ color: '#db4437', cursor: 'pointer', padding: '0 5px 0 0' }}\r\n                                        title=\"remove query\"\r\n                                        onClick={e => this.props.onRemoveQuery(x) }>remove_circle</i>\r\n\r\n                                    <span className=\"lnk\" title=\"load query\"\r\n                                        onClick={e => this.props.onLoadQuery(x) }>{x.name}</span>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>)\r\n                    : null}\r\n\r\n                { this.state.response\r\n                    ? (!loadingNewQuery || name === this.state.name\r\n                        ? this.renderResults(this.state.response)\r\n                        : (<div style={{ color: '#757575', padding:'20px 0 0 0' }}>\r\n                                <i className=\"material-icons spin\" style={{ fontSize:'20px', verticalAlign: 'text-bottom' }}>cached</i>\r\n                                <span style={{ padding:'0 0 0 5px'}}>loading results...</span>\r\n                           </div>))\r\n                    : this.state.error\r\n                        ? <div style={{ color:'#db4437', padding:5 }}>{this.state.error}</div>\r\n                        : null }\r\n\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const isMsEdge = /Edge/.test(navigator.userAgent);\r\n        return (\r\n            <div id=\"content\">\r\n                <div className=\"inner\">\r\n                    <table>\r\n                    <tbody>\r\n                        <tr>\r\n                            {isMsEdge ? <td style={{ minWidth: '20px' }}></td> : null}\r\n                            <td>\r\n                                {this.props.selected\r\n                                    ? this.renderBody(this.props.selected, this.props.values)\r\n                                    : (<div style={{ padding: '15px 0', fontSize:'20px', color:'#757575' }}>\r\n                                        <i className=\"material-icons\" style={{ verticalAlign: 'bottom', margin:'0 10px 0 0'}}>arrow_back</i>\r\n                                        {this.props.userinfo.querycount > 0\r\n                                            ? \"Please Select a Query\"\r\n                                                : this.props.userinfo.isauthenticated\r\n                                                    ? \"There are no queries available\"\r\n                                                    : \"Please Sign In to see your available queries\"}</div>) }\r\n                            </td>\r\n                            {!isMsEdge ? <td style={{ minWidth: '20px' }}></td> : null}\r\n                        </tr>\r\n                     </tbody>\r\n                     </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Content.tsx","import * as React from 'react';\r\n\r\nexport default class Header extends React.Component<any, any> {\r\n    render() {\r\n        return (\r\n            <div id=\"header\" style={{ margin: 'auto', display: 'flex', flexDirection: 'row' }}>\r\n                <i className=\"material-icons\" style={{ cursor: 'pointer' }} onClick={e => this.props.onSidebarToggle() }>\r\n                    menu\r\n                </i>\r\n                <h1>AutoQuery</h1>\r\n                {this.props.title == null ? <div style={{flex:1}} /> : (\r\n                    <div id=\"header-content\" style={{ display: 'flex', flex: 1 }}>\r\n                        <div>\r\n                            <div className=\"seperator\"></div>\r\n                        </div>\r\n                        <h2>{this.props.title}</h2>\r\n                        <div style={{ margin: 'auto', flex: 1 }}></div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Header.tsx","import * as React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Link } from 'react-router-dom';\r\nimport { getField } from './shared';\r\n\r\nimport { humanize } from 'servicestack-client';\r\n\r\nexport default class Results extends React.Component<any, any> {\r\n    renderValue(o: any) {\r\n        return Array.isArray(o)\r\n            ? o.join(', ') \r\n            : typeof o == \"undefined\"\r\n            ? \"\" \r\n            : typeof o == \"object\"\r\n                ? JSON.stringify(o)\r\n                : o + \"\";\r\n    }\r\n\r\n    formatString(s: string) {\r\n        if (s) {\r\n            if (s.startsWith(\"http\"))\r\n                return <a href={s} target=\"_blank\">{s.substring(s.indexOf('://') + 3) }</a>;\r\n\r\n            if (s.toLowerCase() === \"false\")\r\n                return <i className=\"material-icons\" style={{ color: '#757575', fontSize: '14px' }}>check_box_outline_blank</i>;\r\n            if (s.toLowerCase() === \"true\")\r\n                return <i className=\"material-icons\" style={{ color: '#66BB6A', fontSize: '14px' }}>check_box</i>;\r\n        }\r\n\r\n        return <span>{s}</span>;\r\n    }\r\n\r\n    render() {\r\n        var Results = <div className=\"results-none\">There were no results</div>;\r\n\r\n        var results = this.props.results;\r\n        if (results && results.length > 0) {\r\n            var fieldNames = this.props.values.fields || [];\r\n            if (fieldNames.length === 0) {\r\n                fieldNames = this.props.fieldNames ||\r\n                    this.props.selected.toTypeFields.map(x => x.name);\r\n            }\r\n\r\n            var fieldWidths = this.props.fieldWidths || {};\r\n\r\n            var orderBy = (this.props.values.orderBy || '');\r\n            var orderByName = orderBy.startsWith('-') ? orderBy.substr(1) : orderBy;\r\n\r\n            Results = (\r\n                <table className=\"results\">\r\n                    <thead><tr className=\"noselect\">{ fieldNames.map(f => (\r\n                        <th key={f} style={{ cursor: 'pointer' }}\r\n                            onClick={e => this.props.onOrderByChange(f !== orderByName ? '-' + f : !orderBy.startsWith('-') ? '' : orderByName) }>\r\n\r\n                            { humanize(f) }\r\n\r\n                            { f !== orderByName ? null :\r\n                                <i className=\"material-icons\" style={{fontSize:'18px',verticalAlign:'bottom'}}>{orderBy.startsWith('-') ? \"arrow_drop_down\" : \"arrow_drop_up\"}</i>}\r\n                        </th>\r\n                    ))}</tr></thead>\r\n                    <tbody>\r\n                        { results.map((r,i) => (\r\n                            <tr key={i}>\r\n                                {fieldNames.map((f, j) => (\r\n                                    <td key={j} title={this.renderValue(getField(r,f)) } style={getField(fieldWidths,f) ? { maxWidth: parseInt(getField(fieldWidths,f)) } : {}}>\r\n                                        { this.formatString(this.renderValue(getField(r,f))) }\r\n                                    </td>\r\n                                )) }\r\n                            </tr>)\r\n                        ) }\r\n                        </tbody>\r\n                </table>             \r\n            );\r\n        }\r\n\r\n        return Results;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Results.tsx","import * as React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Link } from 'react-router-dom';\r\nimport { splitOnFirst } from 'servicestack-client';\r\n\r\nimport { BasePath } from './shared';\r\n\r\nexport default class Sidebar extends React.Component<any, any> {\r\n    constructor(props?, context?) {\r\n        super(props, context);\r\n        this.state = { filter: undefined };\r\n    }\r\n\r\n    handleFilter(e) {\r\n        this.setState({ filter: e.target.value.toLowerCase() });\r\n    }\r\n\r\n    renderIcon(name) {\r\n        var iconUrl = this.props.viewerArgs[name][\"IconUrl\"];\r\n        if (iconUrl) {\r\n            if (iconUrl.startsWith('material-icons:'))\r\n                return (<i className=\"material-icons\">{splitOnFirst(iconUrl, ':')[1]}</i>);\r\n            if (iconUrl.startsWith('octicon:'))\r\n                return (<span className={\"mega-octicon octicon-\" + splitOnFirst(iconUrl, ':')[1]}></span>);\r\n            return (<img src={iconUrl} />);\r\n        }\r\n        return (<i className=\"material-icons\">search</i>);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"sidebar\">\r\n                <div className=\"inner\">\r\n                    <div id=\"aq-filter\">\r\n                        <input type=\"text\" placeholder=\"filter\" style={{ margin: \"10px 15px\" }}\r\n                            onChange={e => this.handleFilter(e)} value={this.state.filter} />\r\n                    </div>\r\n                    <div id=\"aq-list\">\r\n                        {Object.keys(this.props.operations)\r\n                            .filter(op => this.state.filter == null || op.toLowerCase().indexOf(this.state.filter) >= 0)\r\n                            .map((op,i) => (\r\n                            <div key={i} className={\"aq-item\" + (op === this.props.name ? \" active\" : \"\")}>\r\n                                {this.renderIcon(op)}\r\n                                <Link to={BasePath + \"ss_admin/autoquery/\" + op}>{this.props.viewerArgs[op][\"Name\"] || op}</Link>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Sidebar.tsx","import { JsonServiceClient, sanitize } from 'servicestack-client';\r\n\r\ndeclare var global; //populated from package.json/jest\r\n\r\nexport var BasePath = location.pathname.substring(0, location.pathname.indexOf(\"/ss_admin\") + 1);\r\n\r\nexport var client = new JsonServiceClient(global.BaseUrl || BasePath);\r\n\r\nexport const normalizeKey = (key: string) => key.toLowerCase().replace(/_/g, '');\r\n\r\nconst isArray = (o: any) => Object.prototype.toString.call(o) === '[object Array]';\r\n\r\nconst log = (o: any) => { console.log(o, typeof(o)); return o; }\r\n\r\nexport const normalize = (dto: any, deep?: boolean) => {\r\n    if (dto == null)\r\n        return dto;\r\n    if (isArray(dto)) {\r\n        if (!deep) return dto;\r\n        const to = [];\r\n        for (let i = 0; i < dto.length; i++) {\r\n            to[i] = normalize(dto[i], deep);\r\n        }\r\n        return to;\r\n    }\r\n    if (typeof dto != \"object\") return dto;\r\n    const o = {};\r\n    for (let k in dto) {\r\n        o[normalizeKey(k)] = deep ? normalize(dto[k], deep) : dto[k];\r\n    }\r\n    return o;\r\n}\r\n\r\nexport const getField = (o: any, name: string) =>\r\n    o == null || name == null ? null :\r\n        o[name] ||\r\n        o[Object.keys(o).filter(k => normalizeKey(k) === normalizeKey(name))[0] || ''];\r\n\r\nexport const parseResponseStatus = (json, defaultMsg=null) => {\r\n    try {\r\n        const err = JSON.parse(json);\r\n        return sanitize(err.ResponseStatus || err.responseStatus);\r\n    } catch (e) {\r\n        return {\r\n            message: defaultMsg,\r\n            __error: { error: e, json: json }\r\n        };\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/shared.tsx","import './assets/img/iconfont/material-icons.css';\r\nimport './assets/img/octicon/octicon.css';\r\nimport './app.css';\r\n\r\nimport * as React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Redirect } from 'react-router';\r\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\r\n\r\nimport { BasePath } from './shared';\r\nimport AutoQuery from './AutoQuery';\r\n\r\nclass AdminApp extends React.Component<any, any> {\r\n    render() {\r\n        return <AutoQuery match={ { params: { name:\"\"} } } />;\r\n    }\r\n}\r\n \r\nvar AppPath = BasePath + \"ss_admin\";\r\nconst AutoQueryPath = AppPath + \"/autoquery\";\r\n\r\nrender(\r\n    (<Router>\r\n        <div>\r\n            <Route exact path={AppPath} render={() => \r\n                <Redirect from={AppPath} to={AutoQueryPath}/>\r\n                } />\r\n            <Route exact path={AutoQueryPath} component={AutoQuery} />\r\n            <Route path={AutoQueryPath + \"/:name\"} component={AutoQuery} />\r\n        </div>\r\n    </Router>), \r\n    document.getElementById('app'));\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.tsx","import * as React from 'react';\r\nimport { render } from 'react-dom';\r\nimport Header from './Header';\r\nimport Sidebar from './Sidebar';\r\nimport Content from './Content';\r\nimport ColumnPrefsDialog from './ColumnPrefsDialog';\r\n\r\nimport { client, normalize } from './shared';\r\n\r\nexport default class AutoQuery extends React.Component<any, any> {\r\n    constructor(props?, context?) {\r\n        super(props, context);\r\n        this.state = { metadata: null };\r\n\r\n        client.get(\"/autoquery/metadata\").then(r => {\r\n            const metadata = normalize(r, true);\r\n            this.setState({ metadata, name: this.getName() })\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return this.state.metadata\r\n            ? <App metadata={this.state.metadata} name={this.getName()} />\r\n            : null;\r\n    }\r\n\r\n    getName() {\r\n        return this.props.match.params.name || \"\";\r\n    }\r\n}\r\n\r\nclass App extends React.Component<any, any> {\r\n    constructor(props?, context?) {\r\n        super(props, context);\r\n\r\n        const operationNames = this.props.metadata.operations.map(op => op.request);\r\n\r\n        const viewerArgs = {}, operations = {}, types = {};\r\n        operationNames.forEach(name => {\r\n            viewerArgs[name] = {};\r\n            const aqViewer = this.getAutoQueryViewer(name);\r\n            if (aqViewer && aqViewer.args) {\r\n                aqViewer.args.forEach(arg => viewerArgs[name][arg.name] = arg.value);\r\n            }\r\n\r\n            operations[name] = this.props.metadata.operations.filter(op => op.request === name)[0];\r\n        });\r\n\r\n        console.log(this.props.metadata);\r\n        this.props.metadata.types.forEach(t => types[t.name] = t);\r\n\r\n        let operationState = {};\r\n        let json = localStorage.getItem(\"v1/operationState\");\r\n        if (json)\r\n            operationState = JSON.parse(json);\r\n\r\n        this.state = {\r\n            sidebarHidden: false, selected: null, \r\n            operationState, operationNames, viewerArgs, operations, types\r\n        };\r\n    }\r\n\r\n    resolveProperties(type) {\r\n        var props = (type.properties || []).slice(0);\r\n\r\n        let inherits = type.inherits;\r\n        while (inherits) {\r\n            const t = this.state.types[inherits.name];\r\n            if (!t || !t.properties) continue;\r\n            t.properties.forEach(p => props.push(p));\r\n            inherits = t.inherits;\r\n        }\r\n\r\n        return props;\r\n    }\r\n\r\n    toggleSidebar() {\r\n        this.setState({ sidebarHidden: !this.state.sidebarHidden });\r\n    }\r\n\r\n    getType(name: string) {\r\n        return this.props.metadata.types.filter(op => op.name === name)[0];\r\n    }\r\n\r\n    getAutoQueryViewer(name:string) {\r\n        const type = this.getType(name);\r\n        return type != null && type.attributes != null\r\n            ? type.attributes.filter(attr => attr.name === \"AutoQueryViewer\")[0]\r\n            : null;\r\n    }\r\n\r\n    getAutoQueryViewerArgValue(name:string, argName:string) {\r\n        const aqViewer = this.getAutoQueryViewer(name);\r\n        const arg = aqViewer\r\n            ? aqViewer.args.filter(x => x.name === argName)[0]\r\n            : null;\r\n        return arg != null\r\n            ? arg.value\r\n            : null;\r\n    }\r\n\r\n    getTitle(selected) {\r\n        return selected\r\n            ? this.getAutoQueryViewerArgValue(selected.name, 'Title') || selected.name\r\n            : null;\r\n    }\r\n\r\n    getOperationValues(name: string) {\r\n        const viewerArgs = this.state.viewerArgs[name] || {};\r\n        return Object.assign({\r\n            searchField: viewerArgs[\"DefaultSearchField\"] || \"\",\r\n            searchType: viewerArgs[\"DefaultSearchType\"] || \"\",\r\n            searchText: viewerArgs[\"DefaultSearchText\"],\r\n            conditions: [],\r\n            queries: []\r\n        }, this.state.operationState[name] || {});\r\n    }\r\n\r\n    getSelected(name: string) {\r\n        const operation = this.state.operations[name];\r\n        if (operation == null)\r\n            return null;\r\n        const requestType = this.state.types[name];\r\n        const fromType = this.state.types[operation.from];\r\n        const toType = this.state.types[operation.to];\r\n        return {\r\n            name, operation, requestType,\r\n            fromType, fromTypeFields: this.resolveProperties(toType),\r\n            toType, toTypeFields: this.resolveProperties(toType)\r\n        };\r\n    }\r\n\r\n    onOperationChange(opName: string, newValues: any) {\r\n        const op = this.getOperationValues(opName);\r\n\r\n        Object.keys(newValues).forEach(k => {\r\n            if (newValues[k] != null)\r\n                op[k] = newValues[k];\r\n        });\r\n\r\n        this.setOperationValues(opName, op);\r\n    }\r\n\r\n    addCondition(opName:string) {\r\n        const op = this.getOperationValues(opName);\r\n        const condition = {\r\n            id: `${op.searchField}|${op.searchType}|${op.searchText}`,\r\n            searchField: op.searchField,\r\n            searchType: op.searchType,\r\n            searchText: op.searchText\r\n        };\r\n\r\n        if (op.conditions.some(x => x.id === condition.id))\r\n            return;\r\n\r\n        op.searchText = \"\";\r\n        op.conditions.push(condition);\r\n\r\n        this.setOperationValues(opName, op);\r\n    }\r\n\r\n    removeCondition(opName: string, condition:any) {\r\n        const op = this.getOperationValues(opName);\r\n        op.conditions = op.conditions.filter(x => x.id !== condition.id);\r\n        this.setOperationValues(opName, op);\r\n    }\r\n\r\n    setOperationValues(opName, op) {\r\n        const operationState = Object.assign({}, this.state.operationState);\r\n        operationState[opName] = op;\r\n        this.setState({ operationState });\r\n        localStorage.setItem(\"v1/operationState\", JSON.stringify(operationState));\r\n    }\r\n\r\n    showDialog(dialog) {\r\n        this.setState({ dialog });\r\n        setTimeout(() => document.getElementById(dialog).classList.toggle('active'), 0);\r\n    }\r\n\r\n    hideDialog() {\r\n        this.setState({ dialog: null });\r\n    }\r\n\r\n    saveQuery(opName:string) {\r\n        const name = prompt(\"Save Query as:\", \"My Query\");\r\n        if (!name) return;\r\n\r\n        const op = this.getOperationValues(opName);\r\n        if (!op.queries) {\r\n            op.queries = [];\r\n        }\r\n\r\n        op.queries.push({\r\n            name,\r\n            searchField: op.searchField,\r\n            searchType: op.searchType,\r\n            searchText: op.searchText,\r\n            conditions: op.conditions.map(x => Object.assign({}, x))\r\n        });\r\n\r\n        this.setOperationValues(opName, op);\r\n    }\r\n\r\n    removeQuery(opName: string, query: any) {\r\n        const op = this.getOperationValues(opName);\r\n        if (!op.queries) return;\r\n        op.queries = op.queries.filter(x => x.name != query.name);\r\n        this.setOperationValues(opName, op);\r\n    }\r\n\r\n    loadQuery(opName: string, query: any) {\r\n        const op = this.getOperationValues(opName);\r\n        op.searchField = query.searchField;\r\n        op.searchType = query.searchType;\r\n        op.searchText = query.searchText;\r\n        op.conditions = query.conditions;\r\n        this.setOperationValues(opName, op);\r\n    }\r\n\r\n    render() {\r\n        const selected = this.getSelected(this.props.name);\r\n        const opName = selected && selected.name;\r\n        return (\r\n            <div style={{ height: '100%' }}>\r\n                <Header title={this.getTitle(selected)} onSidebarToggle={e => this.toggleSidebar() } />\r\n                <div id=\"body\" className={this.state.sidebarHidden ? 'hide-sidebar' : ''}>\r\n                    <div className=\"inner\">\r\n                        <Sidebar\r\n                            name={opName}                        \r\n                            viewerArgs={this.state.viewerArgs}\r\n                            operations={this.state.operations}\r\n                            />\r\n                        <Content\r\n                            config={this.props.metadata.config}\r\n                            userinfo={this.props.metadata.userinfo}\r\n                            selected={selected}\r\n                            values={this.getOperationValues(this.props.name)}\r\n                            conventions={this.props.metadata.config.implicitconventions}\r\n                            viewerArgs={this.state.viewerArgs[opName]}\r\n                            onChange={args => this.onOperationChange(opName, args)}\r\n                            onAddCondition={e => this.addCondition(opName)}\r\n                            onRemoveCondition={c => this.removeCondition(opName, c) }\r\n                            onShowDialog={id => this.showDialog(id) }\r\n                            onSaveQuery={() => this.saveQuery(opName) }\r\n                            onRemoveQuery={x => this.removeQuery(opName, x) }\r\n                            onLoadQuery={x => this.loadQuery(opName, x) }\r\n                            />\r\n                    </div>\r\n                </div>\r\n\r\n                {this.state.dialog !== \"column-prefs-dialog\" ? null : (\r\n                    <ColumnPrefsDialog onClose={e => this.hideDialog() }\r\n                        fields={selected.toTypeFields}\r\n                        values={this.getOperationValues(this.props.name)}\r\n                        onChange={args => this.onOperationChange(opName, args) }\r\n                        />\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/AutoQuery.tsx","import * as React from 'react';\r\nimport { render } from 'react-dom';\r\n\r\nexport default class ColumnPrefsDialog extends React.Component<any, any> {\r\n    constructor(props?, context?) {\r\n        super(props, context);\r\n        this.state = {};\r\n    }\r\n\r\n    resetFields() {\r\n        var fields = [];\r\n        this.props.onChange({ fields });\r\n    }\r\n\r\n    selectField(field) {\r\n        let fields = (this.props.values.fields || []);\r\n\r\n        if (fields.indexOf(field) >= 0)\r\n            fields = fields.filter(x => x !== field);\r\n        else\r\n            fields.push(field);\r\n\r\n        this.props.onChange({ fields });\r\n    }\r\n\r\n    render() {\r\n        var fields = (this.props.values.fields || []);\r\n\r\n        var CheckboxStyle = {\r\n            verticalAlign: 'text-bottom', fontSize: '20px', margin: '0 5px 0 0'\r\n        };\r\n\r\n        return (\r\n            <div id=\"column-prefs-dialog\">\r\n                <div className=\"dialog-wrapper\" onClick={e => this.props.onClose()}>\r\n                    <div className=\"dialog\" onClick={e => e.stopPropagation() }>\r\n\r\n                        <div className=\"dialog-header\">\r\n                            <h3>Column Preferences</h3>\r\n                        </div>\r\n\r\n                        <div className=\"dialog-body\">\r\n                            <div onClick={e => this.resetFields()} style={{\r\n                                     borderBottom: '1px solid #ccc', padding: '0 0 10px 0', margin: '0 0 15px 0', cursor: 'pointer'\r\n                                }}>\r\n                                <i className=\"material-icons\" style={CheckboxStyle}>\r\n                                    {fields.length === 0 ? 'radio_button_checked' : 'radio_button_unchecked'}\r\n                                </i>\r\n                                <span>Show all columns</span>\r\n                            </div>\r\n\r\n                            {this.props.fields.map(f => (\r\n                                <div onClick={e => this.selectField(f.name)} style={{ margin: '0 0 5px 0', cursor: 'pointer' }}>\r\n                                    <i className=\"material-icons\"  style={CheckboxStyle}>\r\n                                        {fields.indexOf(f.name) >= 0 ? 'check_box' : 'check_box_outline_blank'}\r\n                                        </i>\r\n                                    <span>{f.name}</span>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n\r\n                        <div className=\"dialog-footer\" style={{textAlign:'right'}}>\r\n                            <div className=\"btnText\" onClick={e => this.props.onClose()}>\r\n                                <span>DONE</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/ColumnPrefsDialog.tsx"],"sourceRoot":""}